var slice=[].slice;
(function(){var E,e,I,z,m,f,u,r,A,F,J,C,w,q,D,k,x,K,B,G,L,M,H;E=function(a){var b={exports:a};(function(){var a,d,g,h,p,n,e,l;h=["webkit","moz","ms","o"];n="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin",
"padding","border","borderRadius"].forEach(function(a){var b,c,d,g,h;n.push(a);g=["Top","Bottom","Left","Right"];h=[];c=0;for(d=g.length;c<d;c++)b=g[c],h.push(n.push(a+b));return h});l=document.createElement("div").style;a=/^\d+(?:[a-z]|\%)+$/i;d=/\d+$/;g=/\s/;e={In:function(a,b){return a&&-1!==a.indexOf(b)},isIterable:function(a){return a&&"object"===typeof a&&"number"===typeof a.length&&!a.nodeType},isPropSupported:function(a){return"undefined"!==typeof l[a]},toTitleCase:function(a){return a[0].toUpperCase()+
a.slice(1)},normalizeProperty:function(a){var b,c,d;if(this.isPropSupported(a))return a;d=this.toTitleCase(a);a=0;for(b=h.length;a<b;a++)if(c=h[a],c=""+c+d,this.isPropSupported(c))return c},normalizeValue:function(b,c){this.In(n,b)&&null!==c&&(c=""+c,!d.test(c)||a.test(c)||g.test(c)||(c+="px"));return c}};p=function(a,b,c){var d,g,h;if(e.isIterable(a))for(d=0,g=a.length;d<g;d++)h=a[d],p(h,b,c);else if("object"===typeof b)for(d in b)c=b[d],p(a,d,c);else{b=e.normalizeProperty(b);if("undefined"===
typeof c)return getComputedStyle(a)[b];b&&(a.style[b]=e.normalizeValue(b,c))}};p.version="1.0.5";return null!=("undefined"!==typeof b&&null!==b?b.exports:void 0)?b.exports=p:"function"===typeof define&&define.amd?define(["quickdom"],function(){return p}):this.Css=p})();return b.exports}.call(this,{});q=function(a){var b={exports:a},c=[].slice;(function(){var a;a=function(a){return function(a){var b,d,g,h,e;d=function(a){var b,c,g;b=function(a){return Array.isArray(a)};c=function(a){return a&&"[object Object]"===
Object.prototype.toString.call(a)||b(a)};g=function(a,b){return b.notDeep?-1!==b.notDeep.indexOf(a):!1};return a=d=function(a,h,e){var v,p,n,l,f,t;if(!h||"object"!==typeof h&&"function"!==typeof h)h={};v=0;for(n=e.length;v<n;v++)if(l=e[v],null!=l)for(p in l)if(f=l[p],t=h[p],!(f===h||void 0===f||null===f&&!a.allowNull||a.keys&&-1===a.keys.indexOf(p)||a.notKeys&&-1!==a.notKeys.indexOf(p)||a.own&&!l.hasOwnProperty(p)||a.globalFilter&&!a.globalFilter(f,p,l)||a.filters&&a.filters[p]&&!a.filters[p](f,p,
l)))switch(a.globalTransform&&(f=a.globalTransform(f,p,l)),a.transforms&&a.transforms[p]&&(f=a.transforms[p](f,p,l)),!1){case !(a.concat&&b(f)&&b(t)):h[p]=t.concat(f);break;case !(a.deep&&c(f)&&!g(p,a)):t=c(t)?t:b(f)?[]:{};h[p]=d(a,t,[f]);break;default:h[p]=f}return h}}({});e=function(a){var b,c,d;c={};for(b in a)d=a[b],c[b]=d;return c};h=function(a){if(a)return"object"!==typeof a||Array.isArray(a)?[].concat(a):Object.keys(a)};b=function(a){var b;b=a.target?function(){var a;a=1<=arguments.length?
c.call(arguments,0):[];return d(b.options,b.options.target,a)}:function(){var a,h;h=arguments[0];a=2<=arguments.length?c.call(arguments,1):[];return d(b.options,h,a)};b.options=a;Object.defineProperties(b,g);return b};g={deep:{get:function(){var a;a=e(this.options);a.deep=!0;return b(a)}},own:{get:function(){var a;a=e(this.options);a.own=!0;return b(a)}},allowNull:{get:function(){var a;a=e(this.options);a.allowNull=!0;return b(a)}},concat:{get:function(){var a;a=e(this.options);a.concat=!0;return b(a)}},
clone:{get:function(){var a;a=e(this.options);a.target={};return b(a)}},notDeep:{get:function(){var a;a=e(this.options);return function(c){a.notDeep=h(c);return b(a)}}},keys:{get:function(){var a;a=e(this.options);return function(c){a.keys=h(c);return b(a)}}},notKeys:{get:function(){var a;a=e(this.options);return function(c){a.notKeys=h(c);return b(a)}}},transform:{get:function(){var a;a=e(this.options);return function(c){"function"===typeof c?a.globalTransform=c:c&&"object"===typeof c&&(a.transforms=
c);return b(a)}}},filter:{get:function(){var a;a=e(this.options);return function(c){"function"===typeof c?a.globalFilter=c:c&&"object"===typeof c&&(a.filters=c);return b(a)}}}};return a=b({})}}(this)({});null!=("undefined"!==typeof b&&null!==b?b.exports:void 0)?b.exports=a:"function"===typeof define&&define.amd?define(["smart-extend"],function(){return a}):window.extend=a})();return b.exports}.call(this,{});J="className href selected type name id checked".split(" ");k={In:function(a,b){return a&&
-1!==a.indexOf(b)},R:function(a,b){var c;c=a.indexOf(b);-1!==c&&a.splice(c,1);return a},N:function(a){switch(!1){case !e.dN(a):return m(a);case !e.St(a):return m.text(a);default:return a}},isStateStyle:function(a){return"$"===a[0]||"@"===a[0]}};e=function(a){return function(a){return e=a={De:function(a){return void 0!==a},Ar:function(a){return a instanceof Array},Ob:function(a){return"object"===typeof a&&a},objectPlain:function(a){return e.Ob(a)&&"[object Object]"===
Object.prototype.toString.call(a)},St:function(a){return"string"===typeof a},Nu:function(a){return"number"===typeof a},"function":function(a){return"function"===typeof a},iT:function(a){return e.Ob(a)&&e.Nu(a.length)}}}}(this)({});e=q.clone(e,{domDoc:function(a){return a&&9===a.nodeType},dE:function(a){return a&&1===a.nodeType},dT:function(a){return a&&3===a.nodeType},dN:function(a){return e.dE(a)||e.dT(a)},qE:function(a){return a instanceof f},template:function(a){return a instanceof
u}});f=function(a,b){this.type=a;this.options=b;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});this._p=null;this._s=[];this._c=[];this._i=[];this._e={_R:{}};this._n();this._a();this._ae();
this._pp();return this.el._quickElement=this};Object.defineProperties(f.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}});f.prototype.parentsUntil=function(a){return F(this,a)};f.prototype.parentMatching=function(a){var b;if(e["function"](a))for(b=this.parent;b;){if(a(b))return b;b=b.parent}};Object.defineProperties(f.prototype,{children:{get:function(){var a,b,c,d;
if(this.el.childNodes.length!==this._c.length)for(this._c.length=0,d=this.el.childNodes,b=0,c=d.length;b<c;b++)a=d[b],4>a.nodeType&&this._c.push(m(a));return this._c}},parent:{get:function(){this._p&&this._p.el===this.el.parentNode||e.domDoc(this.el.parentNode)||(this._p=m(this.el.parentNode));return this._p}},parents:{get:function(){return F(this)}},next:{get:function(){return m(this.el.nextSibling)}},prev:{get:function(){return m(this.el.previousSibling)}},
nextAll:{get:function(){var a,b;b=[];for(a=m(this.el.nextSibling);a;)b.push(a),a=a.next;return b}},prevAll:{get:function(){var a,b;b=[];for(a=m(this.el.previousSibling);a;)b.push(a),a=a.prev;return b}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._C||A(this)}},childf:{get:function(){return A(this,!0)}}});F=function(a,b){var c,d;e["function"](b)||(b=void 0);d=[];for(c=a.parent;c;)d.push(c),c=c.parent,b&&b(c)&&(c=null);return d};
A=function(a,b){var c;if(b||!a._C)a._C={};c=a._C;a.ref&&(c[a.ref]=a);c=a.children;c.length&&q.apply(null,[a._C].concat(slice.call(c.map(function(a){return A(a,b)}))));return a._C};f.prototype._n=function(){var a;null==(a=this.options).style&&(a.style={});this.options.sS={};this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(a=this.options).relatedInstance&&
(a.relatedInstance=this);null==(a=this.options).unpassableStates&&(a.unpassableStates=[]);null==(a=this.options).passStateToChildren&&(a.passStateToChildren=!0);this.options.stateTriggers=q.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._ns()};f.prototype._ns=function(){var a,b,c,d,g;b=Object.keys(this.options.style);c=b.filter(function(a){return k.isStateStyle(a)});d=k.R(c.slice(),"$base");this._m=
c.filter(function(a){return"@"===a[0]});this._ps=c.map(function(a){return a.slice(1)});!k.In(c,"$base")&&b.length&&(this.options=q.clone(this.options),c.length?(b=b.filter(function(a){return!k.isStateStyle(a)}),this.options.style.$base=q.clone.keys(b)(this.options.style)):this.options.style={$base:this.options.style});a=function(b){return function(c,d){var g,h,e,p,f,n;e=Object.keys(c).filter(function(a){return k.isStateStyle(a)});if(e.length)for(b.hS=!0,null==b._sShared&&
(b._sShared=[]),g=0,p=e.length;g<p;g++)h=e[g],f=d.concat(h.slice(1)),n=f.join("+"),b.options.sS[n]=b.options.style["$"+n]=c[h],a(c[h],f),delete c[h]}}(this);b=0;for(c=d.length;b<c;b++)g=d[b],a(this.options.style[g],[g.slice(1)])};f.prototype._a=function(){var a,b,c;(b=this.options.id||this.options.ref)&&this.attr("data-ref",this.ref=b);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.href&&(this.el.href=
this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=this.options.checked);if(this.options.props)for(a in c=this.options.props,c)b=c[a],this.prop(a,b);if(this.options.attrs)for(a in c=this.options.attrs,c)b=c[a],this.attr(a,b);this.options.styleAfterInsert||this.style(this.options.style.$base);
this.onInserted(function(a){return function(){var b,c;a.options.styleAfterInsert&&a.style(q.clone.apply(q,[a.options.style.$base].concat(slice.call(a._ss(a._as())))));b=a._I=a;c=a._m;if(c.length)return a._m=new function(){var a,d,g;a=0;for(d=c.length;a<d;a++)g=c[a],g=g.slice(1),this[g]=I.rg(b,g);return this}}}(this))};f.prototype._ae=function(){var a,b,c,d;b=this.options.stateTriggers;a=function(a){return function(b,c){var d,
g;g=e.St(c)?c:c.on;e.Ob(c)&&(d=c.off);a._l(g,function(){return a.state(b,!0)});if(d)return a._l(d,function(){return a.state(b,!1)})}}(this);for(c in b)d=b[c],a(c,d)};f.prototype._pp=function(){var a;a=void 0;return Object.defineProperty(this,"_p",{get:function(){return a},set:function(b){var c;if(a=b)if(c=this.parents.slice(-1)[0],c.raw===document.documentElement)this._up(b);else a.onInserted(function(c){return function(){if(a===b)return c._up(b)}}(this))}})};
f.prototype._up=function(a){var b,c,d;delete this._p;this._p=a;d=this._i;b=0;for(c=d.length;b<c;b++)a=d[b],a(this)};G=/\s+/;f.prototype.on=function(a,b){var c,d;e.St(a)&&e["function"](b)&&(d=a.split("."),c=d[1],a=d[0],a.split(G).forEach(function(a){return function(d){a._e[d]||(a._e[d]=[],a._l(d,function(b){var c,g,h,e;e=a._e[d];g=0;for(h=e.length;g<h;g++)c=e[g],c.call(a.el,b)}));c&&(a._e._R[c]=
b);return a._e[d].push(b)}}(this)));return this};f.prototype.off=function(a,b){var c,d;if(e.St(a))d=a.split("."),c=d[1],a=d[0],a.split(G).forEach(function(a){return function(d){if(a._e[d]){null==b&&(b=a._e._R[c]);if(e["function"](b))return k.R(a._e[d],b);if(!c)return a._e[d].length=0}}}(this));else for(d in this._e)this.off(d);return this};f.prototype.emit=function(a,b,c){var d;null==b&&(b=!0);null==c&&
(c=!0);a&&e.St(a)&&(d=document.createEvent("Event"),d.initEvent(a,b,c),this.el.dispatchEvent(d));return this};f.prototype.onInserted=function(a,b){null==b&&(b=!0);if(e["function"](a))return this._I?b&&a(this):this._i.push(a),this};f.prototype._l=function(a,b){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?a:"on"+a,b);return this};f.prototype.updateOptions=function(a){e.Ob(a)&&(this.options=a,this._n(),
this._a(this.options));return this};f.prototype.state=function(a,b,c){var d,g,h,f,n,m,l,y,v;if(1===arguments.length)return k.In(this._s,a);if(this._sPipeTarget&&c!==this)return this._sPipeTarget.state(a,b,this),this;if(e.St(a)){"$"===a[0]&&(a=a.slice(1));h=!!b;if("base"===a)return this;g=this._as(a,!1);d=this._ss(g);if(this.state(a)!==h){if(n=this.options.style["$"+a]||this.options.style["@"+a])v=this._ps.indexOf(a),g=g.filter(function(a){return function(b){return a._ps.indexOf(b)>
v}}(this)),m=this._ss(g);h?(this._s.push(a),n&&this.style(q.clone.keys(n).apply(null,[n].concat(slice.call(m))))):(k.R(this._s,a),n&&(f=q.clone.keys(n).apply(null,[this.options.style.$base].concat(slice.call(d))),n=q.transform(function(){return null}).clone(n),this.style(q(n,f))))}if(this.hS)for(l=Object.keys(this.options.sS),l=l.filter(function(b){return k.In(b,a)}),g=0,m=l.length;g<m;g++)if(y=l[g],f=y.split("+"),n=f.length===f.filter(function(b){return function(c){return c===
a||b.state(c)}}(this)).length)n=this.options.sS[y],h?(k.In(this._sShared,y)||this._sShared.push(y),f=this.options.sS[k.R(f,a).join("+")],this.style(q.clone(f,n))):(k.R(this._sShared,y),f=q.clone.keys(n).apply(null,[this.options.style.$base].concat(slice.call(d))),n=q.transform(function(){return null}).clone(n),this.style(q(n,f)));if(this.options.passStateToChildren&&!k.In(this.options.unpassableStates,a))for(g=this._c,h=0,n=g.length;h<
n;h++)d=g[h],d.state(a,b,c||this);return this}};f.prototype.resetState=function(){var a,b,c,d;d=this._s.slice();b=0;for(c=d.length;b<c;b++)a=d[b],this.state(a,!1);return this};f.prototype.pipeState=function(a){var b,c,d,g;if(a){if(a=k.N(a),e.qE(a)&&a!==this)for(this._sPipeTarget=a,g=this._s,c=0,d=g.length;c<d;c++)b=g[c],a.state(b,!0)}else!1===a&&delete this._sPipeTarget;return this};f.prototype.style=function(){var a,b;if("text"!==this.type){a=arguments;if(e.St(a[0])){if(b=
E(this.el,a[0],a[1]),!e.De(a[1]))return this._I?b:b?"":b}else e.Ob(a[0])&&E(this.el,q.allowNull.transform(function(a){return function(b){return"function"===typeof b?b.call(a,a.options.relatedInstance):b}}(this)).clone(a[0]));return this}};f.prototype.styleSafe=function(a,b){var c,d;if("text"!==this.type)return c=arguments,d=this.style(a),e.St(d)?(b&&(d=0),d||this.el.style[c[0]]||this.options.style.$base[c[0]]||""):this};f.prototype._as=function(a,b){var c;null==b&&
(b=!0);c=this._ps.filter(function(b){return function(c){return k.In(b._s,c)&&c!==a}}(this));return b&&this.hS?c.concat(this._sShared):c};f.prototype._ss=function(a){return a.map(function(a){return function(b){return a.options.style["$"+b]||a.options.style["@"+b]}}(this))};Object.defineProperties(f.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},height:{get:function(){return parseFloat(this.style("height"))}},
orientation:x={get:function(){return this.width>this.height?"landscape":"portrait"}},aspectRatio:C={get:function(){return this.width/this.height}}});f.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);default:return this.el.setAttribute(a,b),this}};f.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};f.prototype.toTemplate=function(){return m.template(this)};f.prototype.clone=
function(){var a,b,c,d,g,h,e;c=this.el.cloneNode(!1);c=q.clone(this.options,{existing:c});c=new f(this.type,c);h=this._s;b=0;for(g=h.length;b<g;b++)a=h[b],c.state(a,!0);h=this.children;b=0;for(g=h.length;b<g;b++)a=h[b],c.append(a.clone());e=this._e;for(d in e)for(b=e[d],g=0,h=b.length;g<h;g++)a=b[g],c.on(d,a);return c};f.prototype.append=function(a){var b;a&&(a=k.N(a),e.qE(a)&&((b=a.parent)&&b._r(a),this._c.push(a),this.el.appendChild(a.el),
a.parent));return this};f.prototype.appendTo=function(a){a&&(a=k.N(a),e.qE(a)&&a.append(this));return this};f.prototype.prepend=function(a){var b;a&&(a=k.N(a),e.qE(a)&&((b=a.parent)&&b._r(a),this._c.unshift(a),this.el.insertBefore(a.el,this.el.firstChild),a.parent));return this};f.prototype.prependTo=function(a){a&&(a=k.N(a),e.qE(a)&&a.prepend(this));return this};f.prototype.after=function(a){var b;a&&this.parent&&
(a=k.N(a),e.qE(a)&&(b=this.parent._c.indexOf(this),this.parent._c.splice(b+1,0,a),this.el.parentNode.insertBefore(a.el,this.el.nextSibling),a.parent));return this};f.prototype.insertAfter=function(a){a&&(a=k.N(a),e.qE(a)&&a.after(this));return this};f.prototype.before=function(a){var b;a&&this.parent&&(a=k.N(a),e.qE(a)&&(b=this.parent._c.indexOf(this),this.parent._c.splice(b,0,a),this.el.parentNode.insertBefore(a.el,
this.el),a.parent));return this};f.prototype.insertBefore=function(a){a&&(a=k.N(a),e.qE(a)&&a.before(this));return this};f.prototype.detach=function(){var a;null!=(a=this.parent)&&a._r(this);return this};f.prototype.remove=function(){var a;this.detach();this.resetState();for(a in this._e)this._e[a].length=0;return this};f.prototype.empty=function(){var a,b,c,d;d=this.children.slice();b=0;for(c=d.length;b<c;b++)a=d[b],this._r(a);
return this};f.prototype.wrap=function(a){var b;a&&(a=k.N(a),b=this.parent,e.qE(a)&&a!==this&&a!==this.parent&&(b&&b._r(this,a.parent?void 0:a),a.append(this)));return this};f.prototype.unwrap=function(){var a,b,c,d;if(b=this.parent)if(c=m.batch(b.children),d=b.next,a=b.parent)b.detach(),d?c.insertBefore(d):c.appendTo(a);return this};f.prototype.replace=function(a){var b;a&&(a=k.N(a),e.qE(a)&&a!==this&&(a.detach(),null!=(b=this.parent)&&b._r(this,
a)));return this};f.prototype._r=function(a,b){var c;c=this._c.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._c.splice(c,1,b)):(this.el.removeChild(a.el),this._c.splice(c,1)));return this};Object.defineProperties(f.prototype,{html:{get:function(){return this.el.innerHTML},set:function(a){return this.el.innerHTML=a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});r={type:"window",el:window,raw:window,_e:{_R:{}}};
r.on=f.prototype.on;r.off=f.prototype.off;r.emit=f.prototype.emit;r._l=f.prototype._l;Object.defineProperties(r,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:x,aspectRatio:C});I=new function(){var a,b;a=[];window.addEventListener("resize",function(){var b,d,g;d=0;for(g=a.length;d<g;d++)b=a[d],b()});this.pQ=function(a,b){var c,d;c=b.split("(");d=c[0];d=function(){switch(d){case "window":return r;case "parent":return a.parent;
case "self":return a;default:return a.parentMatching(function(a){return a.ref===d.slice(1)})}}();c=c[1].slice(0,-1).split(L).map(function(a){var b,c,g,e;g=a.split(":");a=parseFloat(g[1]);isNaN(a)&&(a=g[1]);c=g[0];b=c.slice(0,4);g="max-"===b;e=!g&&"min-"===b;if(g||e)c=c.slice(4);b=function(){switch(c){case "orientation":return function(){return d.orientation};case "aspect-ratio":return function(){return d.aspectRatio};case "width":case "height":return function(){return d[c]};default:return function(){var a,
b;b=d.style(c);a=parseFloat(b);return isNaN(a)?b:a}}}();return{key:c,value:a,min:e,max:g,getter:b}});return{source:d,rules:c}};this.rg=function(c,d){var g,e;e=this.pQ(c,d);e.source&&(a.push(g=function(){return b(c,e,d)}),g());return e};b=function(a,b,g){var c,d,e,f,l;e=!0;f=b.rules;b=0;for(d=f.length;b<d&&(l=f[b],c=l.getter(),e=function(){switch(!1){case !l.min:return c>=l.value;case !l.max:return c<=l.value;default:return c===l.value}}(),e);b++);return a.state(g,e)};return this};L=
/,\s*/;m=function(){var a,b,c,d,g;a=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !e.Ar(a[0]):return m.apply(null,a[0]);case !e.template(a[0]):return a[0].spawn();case !e.qE(a[0]):return a[1]?a[0].updateOptions(a[1]):a[0];case !(e.dN(a[0])||e.domDoc(a[0])):if(a[0]._quickElement)return a[0]._quickElement;c=a[0].nodeName.toLowerCase().replace("#","");b=a[1]||{};b.existing=a[0];return new f(c,b);case a[0]!==window:return r;case !e.St(a[0]):c=a[0].toLowerCase();b=
"text"===c?e.Ob(a[1])?a[1]:{text:a[1]||""}:e.Ob(a[1])?a[1]:{};a=a.slice(2);c=new f(c,b);d=0;for(g=a.length;d<g;d++)b=a[d],e.St(b)&&(b=m.text(b)),e.template(b)&&(b=m(b)),e.Ar(b)&&(b=m.apply(null,b)),e.qE(b)&&b.appendTo(c);return c}};m.template=function(a){return new u(a,!0)};z=function(a,b){this.elements=a;this.rR=b;this.elements=this.elements.map(function(a){return m(a)});return this};z.prototype.reverse=function(){this.elements=this.elements.reverse();return this};
z.prototype["return"]=function(a){return a?(this.rR=!0,this):this.lR};Object.keys(f.prototype).concat("css","replaceWith","html","text").forEach(function(a){return z.prototype[a]=function(b){var c,d;d=this.lR=function(){var d,e,f,n;f=this.elements;n=[];d=0;for(e=f.length;d<e;d++)c=f[d],"html"===a||"text"===a?b?n.push(c[a]=b):n.push(c[a]):n.push(c[a].apply(c,arguments));return n}.apply(this,arguments);return this.rR?d:this}});m.batch=function(a,b){if(!e.iT(a))throw Error("Batch: expected an iT, got "+
String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new z(a,b)};D=function(a){return function(a){var b;a=function(a,c,f){var d,g,h,l,m,k,t,r;f&&(g={options:function(a){return q(a,f)}});e.Ar(c)&&(c=B(c,!1));g=q.deep.notKeys("children").notDeep("relatedInstance").transform(g).clone(a,c);a=a.children;c=(null!=c?c.children:void 0)||[];g.children=[];if(e.Ar(c))for(l=h=0,r=Math.max(a.length,c.length);0<=r?h<r:h>r;l=0<=r?++h:--h)m=t=!1,d=a[l],k=c[l],l=function(){switch(!1){case !e.template(k):return k;
case !e.Ar(k):return m=B(k,!1);case !e.St(k):return m={type:"text",options:{text:k}};case !(!k&&!f):return t=!0;default:return m=k||!0}}(),t?l=d:m&&(l=d?d.extend(l,f):new u(q.deep.clone(w,l))),g.children.push(l);else if(e.Ob(c))for(d in g.children=b(c,a,f),c)k=c[d],l=e.ObPlain(l)?k:B(k),g.children.push(new u(q.deep.clone(w,l))),delete c[d];return g};b=function(a,c,e){var d,f,g,h,k;if(c.length){k=[];f=0;for(g=c.length;f<g;f++)d=c[f],(h=a[d.ref])?(h=d.extend(h,e),delete a[d.ref]):h=e?
d.extend(null,e):d,h._config.children=b(a,h.children),k.push(h);return k}return c};return a}}(this)({});B=function(a){return function(a){var b;a=function(a,c){var d;switch(!1){case !e.Ar(a):d={};if(e.St(a[0]))d.type=a[0];else throw Error(b+" string for 'type', got '"+String(a[0])+"'");if(1<a.length&&!e.Ob(a[1])&&null!==a[1])throw Error(b+" object for 'options', got '"+String(a[1])+"'");d.options=a[1]?q.deep.clone(a[1]):null;a[1]&&(d.ref=a[1].id||a[1].ref);d.children=a.slice(2);!1===c?3===
a.length&&e.ObPlain(a[2])&&!e.template(a[2])&&(d.children=a[2]):d.children=d.children.map(m.template);return d;case !(e.St(a)||e.dT(a)):return{type:"text",options:{text:a.textContent||a},children:w.children};case !e.dE(a):return{type:a.nodeName.toLowerCase(),ref:a.id,options:q.clone.keys(J)(a),children:w.children.map.call(a.childNodes,m.template)};case !e.qE(a):return{type:a.type,ref:a.ref,options:q.clone.deep.notKeys("relatedInstance")(a.options),children:a.children.map(m.template)};
case !e.template(a):return D(a._config);default:throw Error(b+" (array || string || dE || qE || template), got "+String(a));}};b="Template Parse Error: expected";return a}}(this)({});w={type:"div",ref:void 0,options:{},children:[]};u=function(a,b){this._config=b?B(a):a;return this};Object.keys(w).forEach(function(a){return Object.defineProperty(u.prototype,a,{get:function(){return this._config[a]}})});Object.defineProperty(u.prototype,"child",{get:function(){return this._C||A(this)}});
u.prototype.spawn=function(a,b){var c;c=a||b?D(this._config,a,b):this._config;return m.apply(null,[c.type,c.options].concat(slice.call(c.children)))};u.prototype.extend=function(a,b){return new u(D(this._config,a,b))};H="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");C=function(a){var b,c;b=c=a;k.In(a,":")&&
(a=a.split(":"),b=a[0],c=a[1]);return m[b]=function(){return m.apply(null,[c].concat(slice.call(arguments)))}};x=0;for(K=H.length;x<K;x++)M=H[x],C(M);m.version="1.0.26";return null!=("undefined"!==typeof module&&null!==module?module.exports:void 0)?module.exports=m:"function"===typeof define&&define.amd?define(["quickdom"],function(){return m}):this.Dom=m})();
