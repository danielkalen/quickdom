var slice=[].slice;!function(){var t,e,n,i,r,o,s,l,u,p,c,a,h,f,d,m,y,v,g,b,x;for(i=null,u=function(t){var e={exports:t};return function(){var t,n,i,r,o,s,l,u;return r=["webkit","moz","ms","o"],s="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing x y".split(" "),["margin","padding","border","borderRadius"].forEach(function(t){var e,n,i,r,o;for(s.push(t),r=["Top","Bottom","Left","Right"],o=[],n=0,i=r.length;n<i;n++)e=r[n],o.push(s.push(t+e));return o}),u=document.createElement("div").style,t=/^\d+(?:[a-z]|\%)+$/i,n=/\d+$/,i=/\s/,l={includes:function(t,e){return t&&-1!==t.indexOf(e)},isIterable:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&!t.nodeType},isPropSupported:function(t){return"undefined"!=typeof u[t]},toTitleCase:function(t){return t[0].toUpperCase()+t.slice(1)},normalizeProperty:function(t){var e,n,i;if(this.isPropSupported(t))return t;for(i=this.toTitleCase(t),t=0,e=r.length;t<e;t++)if(n=r[t],n=""+n+i,this.isPropSupported(n))return n},normalizeValue:function(e,r){return this.includes(s,e)&&null!==r&&(r=""+r,!n.test(r)||t.test(r)||i.test(r)||(r+="px")),r}},o=function(t,e,n){var i,r,s;if(l.isIterable(t))for(i=0,r=t.length;i<r;i++)s=t[i],o(s,e,n);else if("object"==typeof e)for(i in e)n=e[i],o(t,i,n);else{if(e=l.normalizeProperty(e),"undefined"==typeof n)return getComputedStyle(t)[e];e&&(t.style[e]=l.normalizeValue(e,n))}},o.version="1.0.4",null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=o:"function"==typeof define&&define.amd?define(["quickdom"],function(){return o}):this.Css=o}(),e.exports}.call(this,{}),t=u,l=function(t){var e={exports:t},n=[].slice;return function(){var t,i;t=function(t){return function(t){var e={exports:t},i,r,o,s,l;return r=function(t){var e={exports:t},n,i,o;return n=function(t){return Array.isArray(t)},i=function(t){return t&&"object"==typeof t},o=function(t,e){return!!e.notDeep&&e.notDeep.indexOf(t)!==-1},e.exports=r=function(t,e,s){var l,u,p,c,a,h,f;for((!e||"object"!=typeof e&&"function"!=typeof e)&&(e={}),l=0,p=s.length;l<p;l++)if(c=s[l],null!=c)for(u in c)if(a=c[u],f=e[u],!(a===e||void 0===a||null===a&&!t.allowNull||t.keys&&t.keys.indexOf(u)===-1||t.notKeys&&t.notKeys.indexOf(u)!==-1||t.own&&!c.hasOwnProperty(u)||t.globalFilter&&!t.globalFilter(a,u,c)||t.filters&&t.filters[u]&&!t.filters[u](a,u,c)))switch(t.globalTransform&&(a=t.globalTransform(a,u,c)),t.transforms&&t.transforms[u]&&(a=t.transforms[u](a,u,c)),!1){case!(t.concat&&n(a)&&n(f)):e[u]=f.concat(a);break;case!(t.deep&&i(a)&&!o(u,t)):h=i(f)?f:n(a)?[]:{},e[u]=r(t,h,[a]);break;default:e[u]=a}return e},e.exports}({}),l=function(t){var e,n,i;n={};for(e in t)i=t[e],n[e]=i;return n},s=function(t){if(t)return"object"!=typeof t||Array.isArray(t)?[].concat(t):Object.keys(t)},i=function(t){var e;return e=t.target?function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],r(e.options,e.options.target,t)}:function(){var t,i;return i=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],r(e.options,i,t)},e.options=t,Object.defineProperties(e,o),e},o={deep:{get:function(){var t;return t=l(this.options),t.deep=!0,i(t)}},own:{get:function(){var t;return t=l(this.options),t.own=!0,i(t)}},allowNull:{get:function(){var t;return t=l(this.options),t.allowNull=!0,i(t)}},concat:{get:function(){var t;return t=l(this.options),t.concat=!0,i(t)}},clone:{get:function(){var t;return t=l(this.options),t.target={},i(t)}},notDeep:{get:function(){var t;return t=l(this.options),function(e){return t.notDeep=s(e),i(t)}}},keys:{get:function(){var t;return t=l(this.options),function(e){return t.keys=s(e),i(t)}}},notKeys:{get:function(){var t;return t=l(this.options),function(e){return t.notKeys=s(e),i(t)}}},transform:{get:function(){var t;return t=l(this.options),function(e){return"function"==typeof e?t.globalTransform=e:e&&"object"==typeof e&&(t.transforms=e),i(t)}}},filter:{get:function(){var t;return t=l(this.options),function(e){return"function"==typeof e?t.globalFilter=e:e&&"object"==typeof e&&(t.filters=e),i(t)}}}},e.exports=i({}),e.exports}}(this)({}),i=t,null!=("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=i:"function"==typeof define&&define.amd?define(["smart-extend"],function(){return i}):window.extend=i}(),e.exports}.call(this,{}),c=l,p=["className","href","selected","type","name","id","checked"],f={},f.includes=function(t,e){return t&&t.indexOf(e)!==-1},f.removeItem=function(t,e){var n;if(n=t.indexOf(e),n!==-1)return t.splice(n,1)},f.normalizeGivenEl=function(t){switch(!1){case!e.domNode(t):return i(t);case!e.string(t):return i.text(t);default:return t}},e=function(t){return function(t){var n={exports:t};return e=n.exports={defined:function(t){return void 0!==t},array:function(t){return t instanceof Array},object:function(t){return"object"==typeof t&&t},objectPlain:function(t){return e.object(t)&&"[object Object]"===Object.prototype.toString.call(t)},string:function(t){return"string"==typeof t},number:function(t){return"number"==typeof t},function:function(t){return"function"==typeof t},iterable:function(t){return e.object(t)&&e.number(t.length)}},n.exports}}(this)({}),e=c.clone(e,{domEl:function(t){return t&&1===t.nodeType},domText:function(t){return t&&3===t.nodeType},domNode:function(t){return e.domEl(t)||e.domText(t)},quickDomEl:function(t){return t instanceof r},template:function(t){return t instanceof o}}),r=function(t,e){return this.type=t,this.options=e,this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):document.createElement(this.type)),this._parent=null,this._state=[],this._children=[],this._eventCallbacks={},this._normalizeOptions(),this._applyOptions(),this._attachStateEvents(),this.el._quickElement=this},Object.defineProperties(r.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}},children:{get:function(){var t,e,n,r;if(this.el.childNodes.length!==this._children.length)for(this._children.length=0,r=this.el.childNodes,e=0,n=r.length;e<n;e++)t=r[e],this._children.push(i(t));return this._children}},parent:{get:function(){return this._parent&&this._parent.el===this.el.parentNode||(this._parent=i(this.el.parentNode)),this._parent}},parents:{get:function(){var t,e;for(e=[],t=this.parent;t;)e.push(t),t=t.parent;return e}},next:{get:function(){return i(this.el.nextSibling)}},prev:{get:function(){return i(this.el.previousSibling)}},nextAll:{get:function(){var t,e;for(e=[],t=i(this.el.nextSibling);t;)e.push(t),t=t.next;return e}},prevAll:{get:function(){var t,e;for(e=[],t=i(this.el.previousSibling);t;)e.push(t),t=t.prev;return e}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}}}),r.prototype._normalizeOptions=function(){var t,e,n;return null==(t=this.options).style&&(t.style={}),this.options.class&&(this.options.className=this.options.class),this.options.url&&(this.options.href=this.options.url),null==(e=this.options).relatedInstance&&(e.relatedInstance=this),null==(n=this.options).passStateToChildren&&(n.passStateToChildren=!0),this.options.stateTriggers=c.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers),this._normalizeStyle(),this},r.prototype._normalizeStyle=function(){var t,e,n;return t=Object.keys(this.options.style),n=t.filter(function(t){return"$"===t[0]}),this.providedStates=n.map(function(t){return t.slice(1)}),!f.includes(n,"$base")&&t.length&&(n.length?(e=t.filter(function(t){return"$"!==t[0]}),this.options.style.$base=c.clone.keys(e)(this.options.style)):this.options.style={$base:this.options.style}),this},r.prototype._applyOptions=function(){var t,e,n,i;if(this.options.id&&(this.el.id=this.options.id),this.options.className&&(this.el.className=this.options.className),this.options.href&&(this.el.href=this.options.href),this.options.type&&(this.el.type=this.options.type),this.options.name&&(this.el.name=this.options.name),this.options.value&&(this.el.value=this.options.value),this.options.selected&&(this.el.selected=this.options.selected),this.options.checked&&(this.el.checked=this.options.checked),this.options.props){e=this.options.props;for(t in e)i=e[t],this.prop(t,i)}if(this.options.attrs){n=this.options.attrs;for(t in n)i=n[t],this.attr(t,i)}return this.style(this.options.style.$base),this},r.prototype._attachStateEvents=function(){var t,n,i,r;n=this.options.stateTriggers,t=function(t){return function(n,i){var r,o;if(o=e.string(i)?i:i.on,e.object(i)&&(r=i.off),t._listenTo(o,function(){return t.setState(n,!0)}),r)return t._listenTo(r,function(){return t.setState(n,!1)})}}(this);for(i in n)r=n[i],t(i,r);return this},r.prototype._listenTo=function(t,e){var n,i;return i=this.el.addEventListener?"addEventListener":"attachEvent",n=this.el.addEventListener?t:"on"+t,this.el[i](n,e),this},r.prototype.on=function(t,n){return e.string(t)&&e.function(n)&&(this._eventCallbacks[t]||(this._eventCallbacks[t]=[],this._listenTo(t,function(e){return function(i){var r,o,s;for(s=e._eventCallbacks[t],r=0,o=s.length;r<o;r++)n=s[r],n.call(e.el,i)}}(this))),this._eventCallbacks[t].push(n)),this},r.prototype.off=function(t,n){if(e.string(t))this._eventCallbacks[t]&&(e.function(n)?f.removeItem(this._eventCallbacks[t],n):this._eventCallbacks[t].length=0);else for(t in this._eventCallbacks)this.off(t);return this},r.prototype.emit=function(t,n,i){var r;return null==n&&(n=!0),null==i&&(i=!0),t&&e.string(t)&&(r=document.createEvent("Event"),r.initEvent(t,n,i),this.el.dispatchEvent(r)),this},r.prototype.updateOptions=function(t){return e.object(t)&&(this.options=t,this._normalizeOptions(),this._applyOptions(this.options)),this},r.prototype.getState=function(t){return f.includes(this._state,t)},r.prototype.setState=function(t,n){var i,r,o,s,l,u,p,a,h,d,m,y,v;if(null==n&&(n=!0),e.string(t)){if("$"===t[0]&&(t=t.slice(1)),s=!!n,"base"===t)return this;if(this.getState(t)!==s&&(this.options.style["$"+t]&&(a=this.options.style["$"+t],v=this.providedStates.indexOf(t),r=this.providedStates.filter(function(e){return function(n){return f.includes(e._state,n)&&n!==t}}(this)),y=r.filter(function(t){return function(e){return t.providedStates.indexOf(e)>v}}(this)),i=r.map(function(t){return function(e){return t.options.style["$"+e]}}(this)),m=y.map(function(t){return function(e){return t.options.style["$"+e]}}(this))),s?(this._state.push(t),a&&this.style(c.clone.keys(a).apply(null,[a].concat(m)))):(f.removeItem(this._state,t),a&&(h=c.clone.keys(a).apply(null,[this.options.style.$base].concat(i)),d=c.transform(function(){return null}).clone(a),this.style(c(d,h))))),this.options.passStateToChildren)for(p=this._children,l=0,u=p.length;l<u;l++)o=p[l],o.setState(t,n);return this}},r.prototype.resetState=function(){var t,e,n,i;for(i=this._state.slice(),e=0,n=i.length;e<n;e++)t=i[e],this.setState(t,!1);return this},r.prototype.style=function(){var n,i;if(n=arguments,e.string(n[0])){if(i=t(this.el,n[0],n[1]),!e.defined(n[1]))return i}else e.object(n[0])&&t(this.el,c.allowNull.transform(function(t){return function(e){return"function"==typeof e?e(t.options.relatedInstance):e}}(this)).clone(n[0]));return this},r.prototype.attr=function(t,e){switch(e){case void 0:return this.el.getAttribute(t);case null:return this.el.removeAttribute(t);default:return this.el.setAttribute(t,e),this}},r.prototype.prop=function(t,e){switch(e){case void 0:return this.el[t];default:return this.el[t]=e,this}},r.prototype.toTemplate=function(){return i.template(this)},r.prototype.clone=function(){var t,e,n,i,o,s,l,u,p,a,h,f,d,m,y,v,g;for(o=this.el.cloneNode(!1),m=c.clone(this.options,{existing:o}),d=new r(this.type,m),y=this._state,l=0,a=y.length;l<a;l++)t=y[l],d.setState(t);for(v=this.children,u=0,h=v.length;u<h;u++)i=v[u],d.append(i.clone());g=this._eventCallbacks;for(s in g)for(n=g[s],p=0,f=n.length;p<f;p++)e=n[p],d.on(s,e);return d},r.prototype.append=function(t){var n;return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&(n=t.parent,n&&n._removeChild(t),this._children.push(t),this.el.appendChild(t.el))),this},r.prototype.appendTo=function(t){return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&t.append(this)),this},r.prototype.prepend=function(t){var n;return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&(n=t.parent,n&&n._removeChild(t),this._children.unshift(t),this.el.insertBefore(t.el,this.el.firstChild))),this},r.prototype.prependTo=function(t){return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&t.prepend(this)),this},r.prototype.html=function(t){return e.defined(t)?(this.el.innerHTML=t,this):this.el.innerHTML},r.prototype.text=function(t){return e.defined(t)?(this.el.textContent=t,this):this.el.textContent},r.prototype.after=function(t){var n;return t&&this.parent&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&(n=this.parent._children.indexOf(this),this.parent._children.splice(n+1,0,t),this.el.parentNode.insertBefore(t.el,this.el.nextSibling))),this},r.prototype.insertAfter=function(t){return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&t.after(this)),this},r.prototype.before=function(t){var n;return t&&this.parent&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&(n=this.parent._children.indexOf(this),this.parent._children.splice(n,0,t),this.el.parentNode.insertBefore(t.el,this.el))),this},r.prototype.insertBefore=function(t){return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&t.before(this)),this},r.prototype.detach=function(){var t;return null!=(t=this.parent)&&t._removeChild(this),this},r.prototype.remove=function(){var t;this.detach(),this.resetState();for(t in this._eventCallbacks)this._eventCallbacks[t].length=0;return this},r.prototype.empty=function(){var t,e,n,i;for(i=this.children.slice(),e=0,n=i.length;e<n;e++)t=i[e],this._removeChild(t);return this},r.prototype.wrap=function(t){var n;return t&&(t=f.normalizeGivenEl(t),n=this.parent,e.quickDomEl(t)&&t!==this&&t!==this.parent&&(n&&n._removeChild(this,t.parent?void 0:t),t.append(this))),this},r.prototype.unwrap=function(){var t,e,n,r;return e=this.parent,e&&(n=i.batch(e.children),r=e.next,t=e.parent,t&&(e.detach(),r?n.insertBefore(r):n.appendTo(t))),this},r.prototype.replace=function(t){var n;return t&&(t=f.normalizeGivenEl(t),e.quickDomEl(t)&&t!==this&&(t.detach(),null!=(n=this.parent)&&n._removeChild(this,t))),this},r.prototype._removeChild=function(t,e){var n;return n=this._children.indexOf(t),n!==-1&&(e?(this.el.replaceChild(e.el,t.el),this._children.splice(n,1,e)):(this.el.removeChild(t.el),this._children.splice(n,1))),this},i=function(){var t,n,o,s,l,u,p,c;switch(t=1<=arguments.length?slice.call(arguments,0):[],!1){case!e.template(t[0]):return t[0].spawn();case!e.quickDomEl(t[0]):return t[1]?t[0].updateOptions(t[1]):t[0];case!e.domNode(t[0]):return t[0]._quickElement?t[0]._quickElement:(c=t[0].nodeName.toLowerCase().replace("#",""),p=t[1]||{},p.existing=t[0],new r(c,p));case!e.string(t[0]):for(c=t[0].toLowerCase(),p="text"===c?e.object(t[1])?t[1]:{text:t[1]||""}:e.object(t[1])?t[1]:{},o=t.slice(2),s=new r(c,p),l=0,u=o.length;l<u;l++)n=o[l],e.string(n)&&(n=i.text(n)),e.template(n)&&(n=i(n)),e.quickDomEl(n)&&n.appendTo(s);return s}},i.template=function(t){return new o(t)},n=function(t,e){return this.elements=t,this.returnResults=e,this.elements=this.elements.map(function(t){return i(t)}),this},n.prototype.reverse=function(){return this.elements=this.elements.reverse(),this},n.prototype.return=function(t){return t?(this.returnResults=!0,this):this.lastResults},Object.keys(r.prototype).concat("css","replaceWith").forEach(function(t){return n.prototype[t]=function(){var e,n;return n=this.lastResults=function(){var n,i,r,o;for(r=this.elements,o=[],n=0,i=r.length;n<i;n++)e=r[n],o.push(e[t].apply(e,arguments));return o}.apply(this,arguments),this.returnResults?n:this}}),i.batch=function(t,i){if(!e.iterable(t))throw new Error("Batch: expected an iterable, got "+String(t));if(!t.length)throw new Error("Batch: expected a non-empty element collection");return new n(t,i)},v=/\{\{.+?\}\}/g,o=function(t){return this._parsed=y(t),this},s=o.prototype,Object.defineProperties(s,{type:{get:function(){return this._parsed.type}},options:{get:function(){return this._parsed.options}},children:{get:function(){return this._parsed.children}}}),o.prototype.spawn=function(t){var e,n;return n=a(this._parsed,t),e=[n.type,n.options],e=e.concat(n.children),i.apply(null,e)},o.prototype.extend=function(t){var e;return e=Object.create(s),e._parsed=a(this._parsed,t),e},a=function(t,e){return c.deep.notDeep("children").clone.transform(function(n,i,r){return"children"===i?r===t?n.map(function(t,n){var i;return t.extend(null!=e&&null!=(i=e.children)?i[n]:void 0)}):t.children:n})(t,e)},y=function(t){var n;switch(!1){case!e.array(t):return n={},e.string(t[0])?n.type=t[0]:x("type","string",t[0]),t.length>1&&!e.object(t[1])&&null!==t[1]?x("options","object",t[1]):n.options=t[1]?c.deep.clone(t[1]):null,n.children=t.slice(2).map(i.template),n;case!(e.string(t)||e.domText(t)):return{type:"text",options:{text:t.textContent||t}};case!e.domEl(t):return{type:t.nodeName.toLowerCase(),options:c.clone.keys(p)(t),children:[].map.call(t.childNodes,i.template)};case!e.quickDomEl(t):return{type:t.type,options:c.clone.deep.notKeys("relatedInstance")(t.options),children:t.children.map(i.template)};default:return x("template","(array || string || domEl || quickDomEl)",t)}},x=function(t,e,n){throw new Error("Template Parse Error: expected "+e+" for "+t+", got "+String(n))},b=["link:a","anchor:a","a","text","div","span","h1","h2","h3","h4","h5","h6","header","footer","section","button","br","ul","ol","li","fieldset","input","textarea","select","option","form","frame","hr","iframe","img","picture","main","nav","meta","object","pre","style","table","tbody","th","tr","td","tfoot","video"],h=function(t){var e,n,r;return e=r=t,f.includes(t,":")&&(n=t.split(":"),e=n[0],r=n[1]),i[e]=function(){return i.apply(null,[r].concat([].slice.call(arguments)))}},d=0,m=b.length;d<m;d++)g=b[d],h(g);return i.version="1.0.1",null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=i:"function"==typeof define&&define.amd?define(["quickdom"],function(){return i}):this.Dom=i}();