var slice=[].slice;
(function(){var x,d,r,g,e,t,B,y,n,z,C,k,v,D,E,F,A,w;g=null;x=function(a){var b={exports:a};(function(){var a,f,d,h,p,e,g,k;h=["webkit","moz","ms","o"];e="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing x y".split(" ");["margin","padding","border",
"borderRadius"].forEach(function(a){var b,c,f,d,p;e.push(a);d=["Top","Bottom","Left","Right"];p=[];c=0;for(f=d.length;c<f;c++)b=d[c],p.push(e.push(a+b));return p});k=document.createElement("div").style;a=/^\d+(?:[a-z]|\%)+$/i;f=/\d+$/;d=/\s/;g={In:function(a,b){return a&&-1!==a.indexOf(b)},isIterable:function(a){return a&&"object"===typeof a&&"number"===typeof a.length&&!a.nodeType},isPropSupported:function(a){return"undefined"!==typeof k[a]},toTitleCase:function(a){return a[0].toUpperCase()+
a.slice(1)},normalizeProperty:function(a){var b,c,f;if(this.isPropSupported(a))return a;f=this.toTitleCase(a);a=0;for(b=h.length;a<b;a++)if(c=h[a],c=""+c+f,this.isPropSupported(c))return c},normalizeValue:function(b,c){this.In(e,b)&&null!==c&&(c=""+c,!f.test(c)||a.test(c)||d.test(c)||(c+="px"));return c}};p=function(a,b,c){var f,d,q;if(g.isIterable(a))for(f=0,d=a.length;f<d;f++)q=a[f],p(q,b,c);else if("object"===typeof b)for(f in b)c=b[f],p(a,f,c);else{b=g.normalizeProperty(b);if("undefined"===
typeof c)return getComputedStyle(a)[b];b&&(a.style[b]=g.normalizeValue(b,c))}};p.version="1.0.4";return null!=("undefined"!==typeof b&&null!==b?b.exports:void 0)?b.exports=p:"function"===typeof define&&define.amd?define(["quickdom"],function(){return p}):this.Css=p})();return b.exports}.call(this,{});n=function(a){var b={exports:a},c=[].slice;(function(){var a;a=function(a){return function(a){var b,f,d,e,h;f=function(a){var b,c,d;b=function(a){return Array.isArray(a)};c=function(a){return a&&"object"===
typeof a};d=function(a,b){return b.notDeep?-1!==b.notDeep.indexOf(a):!1};return a=f=function(a,q,h){var e,l,p,g,m,k;if(!q||"object"!==typeof q&&"function"!==typeof q)q={};e=0;for(p=h.length;e<p;e++)if(g=h[e],null!=g)for(l in g)if(m=g[l],k=q[l],!(m===q||void 0===m||null===m&&!a.allowNull||a.keys&&-1===a.keys.indexOf(l)||a.notKeys&&-1!==a.notKeys.indexOf(l)||a.own&&!g.hasOwnProperty(l)||a.globalFilter&&!a.globalFilter(m,l,g)||a.filters&&a.filters[l]&&!a.filters[l](m,l,g)))switch(a.globalTransform&&
(m=a.globalTransform(m,l,g)),a.transforms&&a.transforms[l]&&(m=a.transforms[l](m,l,g)),!1){case !(a.concat&&b(m)&&b(k)):q[l]=k.concat(m);break;case !(a.deep&&c(m)&&!d(l,a)):k=c(k)?k:b(m)?[]:{};q[l]=f(a,k,[m]);break;default:q[l]=m}return q}}({});h=function(a){var b,c,f;c={};for(b in a)f=a[b],c[b]=f;return c};e=function(a){if(a)return"object"!==typeof a||Array.isArray(a)?[].concat(a):Object.keys(a)};b=function(a){var b;b=a.target?function(){var a;a=1<=arguments.length?c.call(arguments,0):[];return f(b.options,
b.options.target,a)}:function(){var a,d;d=arguments[0];a=2<=arguments.length?c.call(arguments,1):[];return f(b.options,d,a)};b.options=a;Object.defineProperties(b,d);return b};d={deep:{get:function(){var a;a=h(this.options);a.deep=!0;return b(a)}},own:{get:function(){var a;a=h(this.options);a.own=!0;return b(a)}},allowNull:{get:function(){var a;a=h(this.options);a.allowNull=!0;return b(a)}},concat:{get:function(){var a;a=h(this.options);a.concat=!0;return b(a)}},clone:{get:function(){var a;a=h(this.options);
a.target={};return b(a)}},notDeep:{get:function(){var a;a=h(this.options);return function(c){a.notDeep=e(c);return b(a)}}},keys:{get:function(){var a;a=h(this.options);return function(c){a.keys=e(c);return b(a)}}},notKeys:{get:function(){var a;a=h(this.options);return function(c){a.notKeys=e(c);return b(a)}}},transform:{get:function(){var a;a=h(this.options);return function(c){"function"===typeof c?a.globalTransform=c:c&&"object"===typeof c&&(a.transforms=c);return b(a)}}},filter:{get:function(){var a;
a=h(this.options);return function(c){"function"===typeof c?a.globalFilter=c:c&&"object"===typeof c&&(a.filters=c);return b(a)}}}};return a=b({})}}(this)({});null!=("undefined"!==typeof b&&null!==b?b.exports:void 0)?b.exports=a:"function"===typeof define&&define.amd?define(["smart-extend"],function(){return a}):window.extend=a})();return b.exports}.call(this,{});B="className href selected type name id checked".split(" ");k={In:function(a,b){return a&&-1!==a.indexOf(b)},R:function(a,
b){var c;c=a.indexOf(b);if(-1!==c)return a.splice(c,1)},N:function(a){switch(!1){case !d.dN(a):return g(a);case !d.St(a):return g.text(a);default:return a}}};d=function(a){return function(a){return d=a={De:function(a){return void 0!==a},Ar:function(a){return a instanceof Array},Ob:function(a){return"object"===typeof a&&a},objectPlain:function(a){return d.Ob(a)&&"[object Object]"===Object.prototype.toString.call(a)},St:function(a){return"string"===typeof a},
Nu:function(a){return"number"===typeof a},"function":function(a){return"function"===typeof a},iT:function(a){return d.Ob(a)&&d.Nu(a.length)}}}}(this)({});d=n.clone(d,{dE:function(a){return a&&1===a.nodeType},dT:function(a){return a&&3===a.nodeType},dN:function(a){return d.dE(a)||d.dT(a)},qE:function(a){return a instanceof e},template:function(a){return a instanceof t}});e=function(a,b){this.type=a;this.options=b;this.el=this.options.existing||("text"===
this.type?document.createTextNode(this.options.text):document.createElement(this.type));this._p=null;this._s=[];this._c=[];this._e={};this._n();this._a();this._ae();return this.el._quickElement=this};Object.defineProperties(e.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}},children:{get:function(){var a,b,
c,f;if(this.el.childNodes.length!==this._c.length)for(this._c.length=0,f=this.el.childNodes,b=0,c=f.length;b<c;b++)a=f[b],this._c.push(g(a));return this._c}},parent:{get:function(){this._p&&this._p.el===this.el.parentNode||(this._p=g(this.el.parentNode));return this._p}},parents:{get:function(){var a,b;b=[];for(a=this.parent;a;)b.push(a),a=a.parent;return b}},next:{get:function(){return g(this.el.nextSibling)}},prev:{get:function(){return g(this.el.previousSibling)}},
nextAll:{get:function(){var a,b;b=[];for(a=g(this.el.nextSibling);a;)b.push(a),a=a.next;return b}},prevAll:{get:function(){var a,b;b=[];for(a=g(this.el.previousSibling);a;)b.push(a),a=a.prev;return b}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}}});e.prototype._n=function(){var a;null==(a=this.options).style&&(a.style={});this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==
(a=this.options).relatedInstance&&(a.relatedInstance=this);null==(a=this.options).passStateToChildren&&(a.passStateToChildren=!0);this.options.stateTriggers=n.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._ns();return this};e.prototype._ns=function(){var a,b;a=Object.keys(this.options.style);b=a.filter(function(a){return"$"===a[0]});this.providedStates=b.map(function(a){return a.slice(1)});!k.In(b,"$base")&&
a.length&&(b.length?(a=a.filter(function(a){return"$"!==a[0]}),this.options.style.$base=n.clone.keys(a)(this.options.style)):this.options.style={$base:this.options.style});return this};e.prototype._a=function(){var a,b,c;this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);
this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&(this.el.checked=this.options.checked);if(this.options.props)for(a in b=this.options.props,b)c=b[a],this.prop(a,c);if(this.options.attrs)for(a in b=this.options.attrs,b)c=b[a],this.attr(a,c);this.style(this.options.style.$base);return this};e.prototype._ae=function(){var a,b,c,f;b=this.options.stateTriggers;a=function(a){return function(b,c){var f,
e;e=d.St(c)?c:c.on;d.Ob(c)&&(f=c.off);a._l(e,function(){return a.setState(b,!0)});if(f)return a._l(f,function(){return a.setState(b,!1)})}}(this);for(c in b)f=b[c],a(c,f);return this};e.prototype._l=function(a,b){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?a:"on"+a,b);return this};e.prototype.on=function(a,b){d.St(a)&&d["function"](b)&&(this._e[a]||(this._e[a]=[],this._l(a,function(c){return function(f){var d,
e,g;g=c._e[a];d=0;for(e=g.length;d<e;d++)b=g[d],b.call(c.el,f)}}(this))),this._e[a].push(b));return this};e.prototype.off=function(a,b){if(d.St(a))this._e[a]&&(d["function"](b)?k.R(this._e[a],b):this._e[a].length=0);else for(a in this._e)this.off(a);return this};e.prototype.emit=function(a,b,c){var f;null==b&&(b=!0);null==c&&(c=!0);a&&d.St(a)&&(f=document.createEvent("Event"),f.initEvent(a,b,c),this.el.dispatchEvent(f));
return this};e.prototype.updateOptions=function(a){d.Ob(a)&&(this.options=a,this._n(),this._a(this.options));return this};e.prototype.getState=function(a){return k.In(this._s,a)};e.prototype.setState=function(a,b){var c,f,e,h,g;null==b&&(b=!0);if(d.St(a)){"$"===a[0]&&(a=a.slice(1));e=!!b;if("base"===a)return this;this.getState(a)!==e&&(this.options.style["$"+a]&&(f=this.options.style["$"+a],g=this.providedStates.indexOf(a),c=this.providedStates.filter(function(b){return function(c){return k.In(b._s,
c)&&c!==a}}(this)),h=c.filter(function(a){return function(b){return a.providedStates.indexOf(b)>g}}(this)),c=c.map(function(a){return function(b){return a.options.style["$"+b]}}(this)),h=h.map(function(a){return function(b){return a.options.style["$"+b]}}(this))),e?(this._s.push(a),f&&this.style(n.clone.keys(f).apply(null,[f].concat(h)))):(k.R(this._s,a),f&&(e=n.clone.keys(f).apply(null,[this.options.style.$base].concat(c)),f=n.transform(function(){return null}).clone(f),this.style(n(f,
e)))));if(this.options.passStateToChildren)for(h=this._c,e=0,c=h.length;e<c;e++)f=h[e],f.setState(a,b);return this}};e.prototype.resetState=function(){var a,b,c,f;f=this._s.slice();b=0;for(c=f.length;b<c;b++)a=f[b],this.setState(a,!1);return this};e.prototype.style=function(){var a,b;a=arguments;if(d.St(a[0])){if(b=x(this.el,a[0],a[1]),!d.De(a[1]))return b}else d.Ob(a[0])&&x(this.el,n.allowNull.transform(function(a){return function(b){return"function"===typeof b?b(a.options.relatedInstance):
b}}(this)).clone(a[0]));return this};e.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);default:return this.el.setAttribute(a,b),this}};e.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};e.prototype.toTemplate=function(){return g.template(this)};e.prototype.clone=function(){var a,b,c,f,d,h,g;c=this.el.cloneNode(!1);c=n.clone(this.options,{existing:c});c=new e(this.type,
c);h=this._s;b=0;for(d=h.length;b<d;b++)a=h[b],c.setState(a);h=this.children;b=0;for(d=h.length;b<d;b++)a=h[b],c.append(a.clone());g=this._e;for(f in g)for(b=g[f],d=0,h=b.length;d<h;d++)a=b[d],c.on(f,a);return c};e.prototype.append=function(a){var b;a&&(a=k.N(a),d.qE(a)&&((b=a.parent)&&b._r(a),this._c.push(a),this.el.appendChild(a.el)));return this};e.prototype.appendTo=function(a){a&&(a=k.N(a),d.qE(a)&&a.append(this));
return this};e.prototype.prepend=function(a){var b;a&&(a=k.N(a),d.qE(a)&&((b=a.parent)&&b._r(a),this._c.unshift(a),this.el.insertBefore(a.el,this.el.firstChild)));return this};e.prototype.prependTo=function(a){a&&(a=k.N(a),d.qE(a)&&a.prepend(this));return this};e.prototype.html=function(a){if(!d.De(a))return this.el.innerHTML;this.el.innerHTML=a;return this};e.prototype.text=function(a){if(!d.De(a))return this.el.textContent;
this.el.textContent=a;return this};e.prototype.after=function(a){var b;a&&this.parent&&(a=k.N(a),d.qE(a)&&(b=this.parent._c.indexOf(this),this.parent._c.splice(b+1,0,a),this.el.parentNode.insertBefore(a.el,this.el.nextSibling)));return this};e.prototype.insertAfter=function(a){a&&(a=k.N(a),d.qE(a)&&a.after(this));return this};e.prototype.before=function(a){var b;a&&this.parent&&(a=k.N(a),d.qE(a)&&(b=this.parent._c.indexOf(this),
this.parent._c.splice(b,0,a),this.el.parentNode.insertBefore(a.el,this.el)));return this};e.prototype.insertBefore=function(a){a&&(a=k.N(a),d.qE(a)&&a.before(this));return this};e.prototype.detach=function(){var a;null!=(a=this.parent)&&a._r(this);return this};e.prototype.remove=function(){var a;this.detach();this.resetState();for(a in this._e)this._e[a].length=0;return this};e.prototype.empty=function(){var a,b,c,d;d=this.children.slice();
b=0;for(c=d.length;b<c;b++)a=d[b],this._r(a);return this};e.prototype.wrap=function(a){var b;a&&(a=k.N(a),b=this.parent,d.qE(a)&&a!==this&&a!==this.parent&&(b&&b._r(this,a.parent?void 0:a),a.append(this)));return this};e.prototype.unwrap=function(){var a,b,c,d;if(b=this.parent)if(c=g.batch(b.children),d=b.next,a=b.parent)b.detach(),d?c.insertBefore(d):c.appendTo(a);return this};e.prototype.replace=function(a){var b;a&&(a=k.N(a),d.qE(a)&&
a!==this&&(a.detach(),null!=(b=this.parent)&&b._r(this,a)));return this};e.prototype._r=function(a,b){var c;c=this._c.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._c.splice(c,1,b)):(this.el.removeChild(a.el),this._c.splice(c,1)));return this};g=function(){var a,b,c,f,l;a=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !d.template(a[0]):return a[0].spawn();case !d.qE(a[0]):return a[1]?a[0].updateOptions(a[1]):a[0];case !d.dN(a[0]):if(a[0]._quickElement)return a[0]._quickElement;
c=a[0].nodeName.toLowerCase().replace("#","");b=a[1]||{};b.existing=a[0];return new e(c,b);case !d.St(a[0]):c=a[0].toLowerCase();b="text"===c?d.Ob(a[1])?a[1]:{text:a[1]||""}:d.Ob(a[1])?a[1]:{};a=a.slice(2);c=new e(c,b);f=0;for(l=a.length;f<l;f++)b=a[f],d.St(b)&&(b=g.text(b)),d.template(b)&&(b=g(b)),d.qE(b)&&b.appendTo(c);return c}};g.template=function(a){return new t(a,!0)};r=function(a,b){this.elements=a;this.returnResults=b;this.elements=this.elements.map(function(a){return g(a)});
return this};r.prototype.reverse=function(){this.elements=this.elements.reverse();return this};r.prototype["return"]=function(a){return a?(this.returnResults=!0,this):this.lastResults};Object.keys(e.prototype).concat("css","replaceWith").forEach(function(a){return r.prototype[a]=function(){var b,c;c=this.lastResults=function(){var c,d,e,g;e=this.elements;g=[];c=0;for(d=e.length;c<d;c++)b=e[c],g.push(b[a].apply(b,arguments));return g}.apply(this,arguments);return this.returnResults?c:this}});g.batch=
function(a,b){if(!d.iT(a))throw Error("Batch: expected an iT, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new r(a,b)};y={type:"div",options:{},children:[]};t=function(a,b){this._config=b?E(a):a;return this};Object.keys(y).forEach(function(a){return Object.defineProperty(t.prototype,a,{get:function(){return this._config[a]}})});t.prototype.spawn=function(a){var b;b=z(this._config,a);a=[b.type,b.options];a=a.concat(b.children);return g.apply(null,
a)};t.prototype.extend=function(a){return new t(z(this._config,a))};z=function(a,b){var c,e,g,h,k,r,u;r=n.deep.notKeys("children").clone(a,b);e=a.children||[];k=(null!=b?b.children:void 0)||[];r.children=[];h=g=0;for(u=Math.max(e.length,k.length);0<=u?g<u:g>u;h=0<=u?++g:--g)c=e[h],h=k[h],d.St(h)&&(h={type:"text",options:{text:h}}),c?r.children.push(c.extend(h)):r.children.push(new t(n.deep.clone(y,h)));return r};E=function(a){var b;switch(!1){case !d.Ar(a):return b={},d.St(a[0])?b.type=
a[0]:w("type","string",a[0]),1<a.length&&!d.Ob(a[1])&&null!==a[1]?w("options","object",a[1]):b.options=a[1]?n.deep.clone(a[1]):null,b.children=a.slice(2).map(g.template),b;case !(d.St(a)||d.dT(a)):return{type:"text",options:{text:a.textContent||a}};case !d.dE(a):return{type:a.nodeName.toLowerCase(),options:n.clone.keys(B)(a),children:[].map.call(a.childNodes,g.template)};case !d.qE(a):return{type:a.type,options:n.clone.deep.notKeys("relatedInstance")(a.options),children:a.children.map(g.template)};
default:return w("template","(array || string || dE || qE)",a)}};w=function(a,b,c){throw Error("Template Parse Error: expected "+b+" for "+a+", got "+String(c));};A="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");C=function(a){var b,c;b=c=a;k.In(a,":")&&(a=a.split(":"),b=a[0],c=a[1]);return g[b]=
function(){return g.apply(null,[c].concat([].slice.call(arguments)))}};v=0;for(D=A.length;v<D;v++)F=A[v],C(F);g.version="1.0.2";return null!=("undefined"!==typeof module&&null!==module?module.exports:void 0)?module.exports=g:"function"===typeof define&&define.amd?define(["quickdom"],function(){return g}):this.Dom=g})();
