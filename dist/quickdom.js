var slice=[].slice;
(function(O){return function(){var y=function(u,p,y,B){B=function(c){return y[c]?p[c]:(y[c]=1,p[c]={},p[c]=u[c](p[c]))};u[1]=function(c){var n={exports:c};(function(){var c=["webkit","moz","ms","o"];var h="backgroundPositionX backgroundPositionY blockSize borderWidth columnRuleWidth cx cy fontSize gridColumnGap gridRowGap height inlineSize lineHeight minBlockSize minHeight minInlineSize minWidth maxHeight maxWidth outlineOffset outlineWidth perspective shapeMargin strokeDashoffset strokeWidth textIndent width wordSpacing top bottom left right x y".split(" ");["margin",
"padding","border","borderRadius"].forEach(function(b){var d;h.push(b);var f=["Top","Bottom","Left","Right"];var r=[];var m=0;for(d=f.length;m<d;m++){var c=f[m];r.push(h.push(b+c))}return r});var b=document.createElement("div").style;var d=/^\d+(?:[a-z]|\%)+$/i;var p=/\d+$/;var z=/\s/;var A={In:function(b,d){return b&&-1!==b.indexOf(d)},isIterable:function(b){return b&&"object"===typeof b&&"number"===typeof b.length&&!b.nodeType},isPropSupported:function(d){return"undefined"!==typeof b[d]},
toTitleCase:function(b){return b[0].toUpperCase()+b.slice(1)},normalizeProperty:function(b){var d,f;if(this.isPropSupported(b))return b;var k=this.toTitleCase(b);b=0;for(d=c.length;b<d;b++)if(f=c[b],f=""+f+k,this.isPropSupported(f))return f},normalizeValue:function(b,c){this.In(h,b)&&null!==c&&(c=""+c,!p.test(c)||d.test(c)||z.test(c)||(c+="px"));return c}};var w=function(b,d,f){var c;if(A.isIterable(b)){var m=0;for(c=b.length;m<c;m++){var C=b[m];w(C,d,f)}}else if("object"===typeof d)for(m in d)f=
d[m],w(b,m,f);else{d=A.normalizeProperty(d);if("undefined"===typeof f)return getComputedStyle(b)[d];d&&(b.style[d]=A.normalizeValue(d,f))}};w.version="1.0.5";return null!=("undefined"!==typeof n&&null!==n?n.exports:void 0)?n.exports=w:"function"===typeof define&&define.amd?define(["quickdom"],function(){return w}):this.Css=w})();return n.exports};u[2]=function(c){var n={exports:c};(function(c){return function(){var c=function(b,d,c,h){h=function(h){return c[h]?d[h]:(c[h]=1,d[h]={},d[h]=b[h](d[h]))};
b[1]=function(b){var d=h(2),c=function(b){var d,c={};for(d in b)c[d]=b[d];return c},v=function(b){var d;if(b){var c={};if("object"!==typeof b)c[b]=!0;else{Array.isArray(b)||(b=Object.keys(b));var f=0;for(d=b.length;f<d;f++)c[b[f]]=!0}return c}},f=function(b){var c=b.target?function(){for(var b=arguments.length,f=-1,m=Array(b);++f<b;)m[f]=arguments[f];return d(c.options,c.options.target,m)}:function(b){for(var f=arguments.length,m=0,k=Array(f);++m<f;)k[m]=arguments[m];return d(c.options,b,k)};c.options=
b;Object.defineProperties(c,k);return c},k={deep:{get:function(){var b=c(this.options);b.deep=!0;return f(b)}},own:{get:function(){var b=c(this.options);b.own=!0;return f(b)}},allowNull:{get:function(){var b=c(this.options);b.allowNull=!0;return f(b)}},nullDeletes:{get:function(){var b=c(this.options);b.nullDeletes=!0;return f(b)}},concat:{get:function(){var b=c(this.options);b.concat=!0;return f(b)}},clone:{get:function(){var b=c(this.options);b.target={};return f(b)}},notDeep:{get:function(){var b=
c(this.options);return function(c){b.notDeep=v(c);return f(b)}}},deepOnly:{get:function(){var b=c(this.options);return function(c){b.deepOnly=v(c);return f(b)}}},keys:{get:function(){var b=c(this.options);return function(c){b.keys=v(c);return f(b)}}},notKeys:{get:function(){var b=c(this.options);return function(c){b.notKeys=v(c);return f(b)}}},transform:{get:function(){var b=c(this.options);return function(c){"function"===typeof c?b.globalTransform=c:c&&"object"===typeof c&&(b.transforms=c);return f(b)}}},
filter:{get:function(){var b=c(this.options);return function(c){"function"===typeof c?b.globalFilter=c:c&&"object"===typeof c&&(b.filters=c);return f(b)}}}};return f({})};b[2]=function(b){var c,d=function(b){return b&&"[object Object]"===Object.prototype.toString.call(b)||Array.isArray(b)},h=function(b,c,d){if(b.deep)return b.notDeep?!b.notDeep[c]:!0;if(b.deepOnly)return b.deepOnly[c]||d&&h(b,d)};return c=function(b,k,v,n){var f,m;if(!k||"object"!==typeof k&&"function"!==typeof k)k={};var p=0;for(m=
v.length;p<m;p++){var t=v[p];if(null!=t)for(f in t){var q=t[f],r=k[f];if(!(q===k||void 0===q||null===q&&!b.allowNull&&!b.nullDeletes||b.keys&&!b.keys[f]||b.notKeys&&b.notKeys[f]||b.own&&!t.hasOwnProperty(f)||b.globalFilter&&!b.globalFilter(q,f,t)||b.filters&&b.filters[f]&&!b.filters[f](q,f,t)))if(null===q&&b.nullDeletes)delete k[f];else switch(b.globalTransform&&(q=b.globalTransform(q,f,t)),b.transforms&&b.transforms[f]&&(q=b.transforms[f](q,f,t)),!1){case !(b.concat&&Array.isArray(q)&&Array.isArray(r)):k[f]=
r.concat(q);break;case !(h(b,f,n)&&d(q)):r=d(r)?r:Array.isArray(q)?[]:{};k[f]=c(b,r,[q],f);break;default:k[f]=q}}}return k}};return h},c=c({},{},{});return function(){var b=c(1);null!=("undefined"!==typeof n&&null!==n?n.exports:void 0)?n.exports=b:"function"===typeof define&&define.amd?define(["smart-extend"],function(){return b}):window.extend=b}()}})(this)();return n.exports};u[22]=function(c){var n;return n=c={De:function(c){return void 0!==c},Ar:function(c){return c instanceof Array},
Ob:function(c){return"object"===typeof c&&c},objectPlain:function(c){return n.Ob(c)&&"[object Object]"===Object.prototype.toString.call(c)},St:function(c){return"string"===typeof c},Nu:function(c){return"number"===typeof c},"function":function(c){return"function"===typeof c},iT:function(c){return n.Ob(c)&&n.Nu(c.length)}}};return B};y=y({},{},{});return function(){var u,p,H;var B=y(1);var c=y(2);var n="id name type href selected checked className".split(" ");var v="id ref type name text style class className url href selected checked props attrs passStateToChildren stateTriggers".split(" ");
var h={In:function(a,e){return a&&-1!==a.indexOf(e)},R:function(a,e){var b=a.indexOf(e);-1!==b&&a.splice(b,1);return a},N:function(a){switch(!1){case !b.dN(a):return k(a);case !b.St(a):return k.text(a);default:return a}},isStateStyle:function(a){return"$"===a[0]||"@"===a[0]}};var b=y(22);b=c.clone(b,{domDoc:function(a){return a&&9===a.nodeType},dE:function(a){return a&&1===a.nodeType},dT:function(a){return a&&3===a.nodeType},dN:function(a){return b.dE(a)||
b.dT(a)},qE:function(a){return a&&"QuickElement"===a.constructor.name},template:function(a){return a&&"QuickTemplate"===a.constructor.name}});var d=function(){function a(a,b){this.type=a;this.options=b;this.el=this.options.existing||("text"===this.type?document.createTextNode(this.options.text):"*"===this.type[0]?document.createElementNS("http://www.w3.org/2000/svg",this.type.slice(1)):document.createElement(this.type));"text"===this.type&&(this.append=this.prepend=this.attr=function(){});
this._p=null;this._s=[];this._c=[];this._i=[];this._e={_R:{}};this._n();this._a();this._ae();this._pp();this.el._quickElement=this}a.prototype.toJSON=function(){var a;var b=[this.type,c.clone.keys(v)(this.options)];var g=this.children;var d=0;for(a=g.length;d<a;d++){var F=g[d];b.push(F.toJSON())}return b};return a}();null==d.name&&(d.name="QuickElement");Object.defineProperties(d.prototype,{raw:{get:function(){return this.el}},
0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}}});d.prototype.parentsUntil=function(a){return I(this,a)};d.prototype.parentMatching=function(a){var e;if(b["function"](a))for(e=this.parent;e;){if(a(e))return e;e=e.parent}};Object.defineProperties(d.prototype,{children:{get:function(){var a;if(this.el.childNodes.length!==this._c.length){this._c.length=0;var e=this.el.childNodes;var b=0;for(a=e.length;b<a;b++){var g=
e[b];4>g.nodeType&&this._c.push(k(g))}}return this._c}},parent:{get:function(){this._p&&this._p.el===this.el.parentNode||b.domDoc(this.el.parentNode)||(this._p=k(this.el.parentNode));return this._p}},parents:{get:function(){return I(this)}},next:{get:function(){return k(this.el.nextSibling)}},prev:{get:function(){return k(this.el.previousSibling)}},nextAll:{get:function(){var a;var e=[];for(a=k(this.el.nextSibling);a;)e.push(a),a=a.next;return e}},prevAll:{get:function(){var a;
var e=[];for(a=k(this.el.previousSibling);a;)e.push(a),a=a.prev;return e}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},child:{get:function(){return this._C||z(this)}},childf:{get:function(){return z(this,!0)}},index:{get:function(){var a;return(a=this.parent)?a.children.indexOf(this):null}},indexType:{get:function(){return A(this,"type")}},indexRef:{get:function(){return A(this,"ref")}}});var I=function(a,e){var l;b["function"](e)||(e=void 0);var g=[];for(l=
a.parent;l;)g.push(l),l=l.parent,e&&e(l)&&(l=null);return g};var z=function(a,e){if(e||!a._C)a._C={};var b=a._C;a.ref&&(b[a.ref]=a);b=a.children;b.length&&c.apply(null,[a._C].concat(slice.call(b.map(function(a){return z(a,e)}))));return a._C};var A=function(a,b){var e;return(e=a.parent)?e.children.filter(function(e){return e[b]===a[b]}).indexOf(a):null};d.prototype._n=function(){var a;null==(a=this.options).style&&(a.style={});this.options.sS=
{};this.options["class"]&&(this.options.className=this.options["class"]);this.options.url&&(this.options.href=this.options.url);null==(a=this.options).relatedInstance&&(a.relatedInstance=this);null==(a=this.options).unpassableStates&&(a.unpassableStates=[]);null==(a=this.options).passStateToChildren&&(a.passStateToChildren=!0);this.options.stateTriggers=c.deep({hover:{on:"mouseenter",off:"mouseleave"},focus:{on:"focus",off:"blur"}},this.options.stateTriggers);this._ns()};d.prototype._ns=
function(){var a=Object.keys(this.options.style);var b=a.filter(function(a){return h.isStateStyle(a)});var l=h.R(b.slice(),"$base");this._m=b.filter(function(a){return"@"===a[0]});this._ps=b.map(function(a){return a.slice(1)});!h.In(b,"$base")&&a.length&&(this.options=c.clone(this.options),b.length?(a=a.filter(function(a){return!h.isStateStyle(a)}),this.options.style.$base=c.clone.keys(a)(this.options.style)):this.options.style={$base:this.options.style});var g=
function(a){return function(b,e){var c;var l=Object.keys(b).filter(function(a){return h.isStateStyle(a)});if(l.length){a.hS=!0;null==a._sShared&&(a._sShared=[]);var d=0;for(c=l.length;d<c;d++){var E=l[d];var f=e.concat(E.slice(1));var F=f.join("+");a.options.sS[F]=a.options.style["$"+F]=b[E];g(b[E],f);delete b[E]}}}}(this);a=0;for(b=l.length;a<b;a++){var d=l[a];g(this.options.style[d],[d.slice(1)])}};d.prototype._a=function(){var a,b;(b=this.options.id||
this.options.ref)&&this.attr("data-ref",this.ref=b);this.options.id&&(this.el.id=this.options.id);this.options.className&&(this.el.className=this.options.className);this.options.src&&(this.el.src=this.options.src);this.options.href&&(this.el.href=this.options.href);this.options.type&&(this.el.type=this.options.type);this.options.name&&(this.el.name=this.options.name);this.options.value&&(this.el.value=this.options.value);this.options.selected&&(this.el.selected=this.options.selected);this.options.checked&&
(this.el.checked=this.options.checked);if(this.options.props){var l=this.options.props;for(a in l)b=l[a],this.prop(a,b)}if(this.options.attrs)for(a in l=this.options.attrs,l)b=l[a],this.attr(a,b);this.options.styleAfterInsert||this.style(this.options.style.$base);this.onInserted(function(a){return function(){a.options.styleAfterInsert&&a.style(c.clone.apply(c,[a.options.style.$base].concat(slice.call(a._ss(a._as())))));var b=a._I=a;var e=a._m;if(e.length)return a._m=
new function(){var a;var c=0;for(a=e.length;c<a;c++){var l=e[c];l=l.slice(1);this[l]=L.rg(b,l)}return this}}}(this))};d.prototype._ae=function(){var a;var e=this.options.stateTriggers;var c=function(a){return function(e,c){var l=b.St(c)?c:c.on;if(b.Ob(c))var g=c.off;a._l(l,function(){return a.state(e,!0)});if(g)return a._l(g,function(){return a.state(e,!1)})}}(this);for(a in e){var g=e[a];c(a,g)}};d.prototype._pp=function(){var a=void 0;return Object.defineProperty(this,
"_p",{get:function(){return a},set:function(b){if(a=b){var e=this.parents.slice(-1)[0];if(e.raw===document.documentElement)this._up(b);else a.onInserted(function(e){return function(){if(a===b)return e._up(b)}}(this))}}})};d.prototype._up=function(a){var b;delete this._p;this._p=a;var c=this._i;var g=0;for(b=c.length;g<b;g++)a=c[g],a(this)};var w=/\s+/;d.prototype.on=function(a,e){if(b.St(a)&&b["function"](e)){var c=a.split(".");var g=
c[1];a=c[0];a.split(w).forEach(function(a){return function(b){a._e[b]||(a._e[b]=[],a._l(b,function(e){var c;var l=a._e[b];var g=0;for(c=l.length;g<c;g++){var d=l[g];d.call(a.el,e)}}));g&&(a._e._R[g]=e);return a._e[b].push(e)}}(this))}return this};d.prototype.off=function(a,e){if(b.St(a)){var c=a.split(".");var g=c[1];a=c[0];a.split(w).forEach(function(a){return function(c){if(a._e[c]){null==e&&(e=a._e._R[g]);
if(b["function"](e))return h.R(a._e[c],e);if(!g)return a._e[c].length=0}}}(this))}else for(c in this._e)this.off(c);return this};d.prototype.emit=function(a,e,c){null==e&&(e=!0);null==c&&(c=!0);if(a&&b.St(a)){var g=document.createEvent("Event");g.initEvent(a,e,c);this.el.dispatchEvent(g)}return this};d.prototype.onInserted=function(a,e){null==e&&(e=!0);if(b["function"](a))return this._I?e&&a(this):this._i.push(a),this};d.prototype._l=
function(a,b){this.el[this.el.addEventListener?"addEventListener":"attachEvent"](this.el.addEventListener?a:"on"+a,b);return this};d.prototype.updateOptions=function(a){b.Ob(a)&&(this.options=a,this._n(),this._a(this.options));return this};d.prototype.state=function(a,e,l){var g;if(1===arguments.length)return h.In(this._s,a);if(this._sPipeTarget&&l!==this)return this._sPipeTarget.state(a,e,this),this;if(b.St(a)){"$"===a[0]&&(a=a.slice(1));var d=
!!e;if("base"===a)return this;var f=this._as(a,!1);var k=this._ss(f);if(this.state(a)!==d){if(g=this.options.style["$"+a]||this.options.style["@"+a]){var M=this._ps.indexOf(a);f=f.filter(function(a){return function(b){return a._ps.indexOf(b)>M}}(this));var m=this._ss(f)}if(d)this._s.push(a),g&&this.style(c.clone.keys(g).apply(null,[g].concat(slice.call(m))));else if(h.R(this._s,a),g){var x=c.clone.keys(g).apply(null,[this.options.style.$base].concat(slice.call(k)));
g=c.transform(function(){return null}).clone(g);this.style(c(g,x))}}if(this.hS){var q=Object.keys(this.options.sS);q=q.filter(function(b){return h.In(b,a)});f=0;for(m=q.length;f<m;f++){var n=q[f];x=n.split("+");if(g=x.length===x.filter(function(b){return function(e){return e===a||b.state(e)}}(this)).length)g=this.options.sS[n],d?(h.In(this._sShared,n)||this._sShared.push(n),x=this.options.sS[h.R(x,a).join("+")],this.style(c.clone(x,
g))):(h.R(this._sShared,n),x=c.clone.keys(g).apply(null,[this.options.style.$base].concat(slice.call(k))),g=c.transform(function(){return null}).clone(g),this.style(c(g,x)))}}if(this.options.passStateToChildren&&!h.In(this.options.unpassableStates,a))for(f=this._c,d=0,g=f.length;d<g;d++)k=f[d],k.state(a,e,l||this);return this}};d.prototype.resetState=function(){var a;var b=this._s.slice();var c=0;for(a=b.length;c<a;c++){var g=b[c];this.state(g,!1)}return this};d.prototype.pipeState=
function(a){var e;if(a){if(a=h.N(a),b.qE(a)&&a!==this){this._sPipeTarget=a;var c=this._s;var g=0;for(e=c.length;g<e;g++){var d=c[g];a.state(d,!0)}}}else!1===a&&delete this._sPipeTarget;return this};d.prototype.style=function(){if("text"!==this.type){var a=arguments;if(b.St(a[0])){var e=B(this.el,a[0],a[1]);if(!b.De(a[1]))return this._I?e:e?"":e}else b.Ob(a[0])&&B(this.el,c.allowNull.transform(function(a){return function(b){return"function"===
typeof b?b.call(a,a.options.relatedInstance):b}}(this)).clone(a[0]));return this}};d.prototype.styleSafe=function(a,e){if("text"!==this.type){var c=arguments;var g=this.style(a);return b.St(g)?(e&&(g=0),g||this.el.style[c[0]]||this.options.style.$base[c[0]]||""):this}};d.prototype.styleParsed=function(a){return parseFloat(this.styleSafe(a))};d.prototype._as=function(a,b){null==b&&(b=!0);var e=this._ps.filter(function(b){return function(e){return h.In(b._s,e)&&
e!==a}}(this));return b&&this.hS?e.concat(this._sShared):e};d.prototype._ss=function(a){return a.map(function(a){return function(b){return a.options.style["$"+b]||a.options.style["@"+b]}}(this))};Object.defineProperties(d.prototype,{rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))}},height:{get:function(){return parseFloat(this.style("height"))}},orientation:p={get:function(){return this.width>
this.height?"landscape":"portrait"}},aspectRatio:u={get:function(){return this.width/this.height}}});d.prototype.attr=function(a,b){switch(b){case void 0:return this.el.getAttribute(a);case null:return this.el.removeAttribute(a);default:return this.el.setAttribute(a,b),this}};d.prototype.prop=function(a,b){switch(b){case void 0:return this.el[a];default:return this.el[a]=b,this}};d.prototype.toTemplate=function(){return k.template(this)};d.prototype.clone=function(){var a,b;var l=this.el.cloneNode(!1);
l=c.clone(this.options,{existing:l});l=new d(this.type,l);var g=this._s;var f=0;for(b=g.length;f<b;f++){var k=g[f];l.state(k,!0)}g=this.children;f=0;for(b=g.length;f<b;f++)k=g[f],l.append(k.clone());var h=this._e;for(a in h)for(f=h[a],b=0,g=f.length;b<g;b++)k=f[b],l.on(a,k);return l};d.prototype.append=function(a){var e;a&&(a=h.N(a),b.qE(a)&&((e=a.parent)&&e._r(a),this._c.push(a),this.el.appendChild(a.el),a.parent));return this};d.prototype.appendTo=
function(a){a&&(a=h.N(a),b.qE(a)&&a.append(this));return this};d.prototype.prepend=function(a){var e;a&&(a=h.N(a),b.qE(a)&&((e=a.parent)&&e._r(a),this._c.unshift(a),this.el.insertBefore(a.el,this.el.firstChild),a.parent));return this};d.prototype.prependTo=function(a){a&&(a=h.N(a),b.qE(a)&&a.prepend(this));return this};d.prototype.after=function(a){if(a&&this.parent&&(a=h.N(a),b.qE(a))){var e=
this.parent._c.indexOf(this);this.parent._c.splice(e+1,0,a);this.el.parentNode.insertBefore(a.el,this.el.nextSibling);a.parent}return this};d.prototype.insertAfter=function(a){a&&(a=h.N(a),b.qE(a)&&a.after(this));return this};d.prototype.before=function(a){if(a&&this.parent&&(a=h.N(a),b.qE(a))){var e=this.parent._c.indexOf(this);this.parent._c.splice(e,0,a);this.el.parentNode.insertBefore(a.el,this.el);a.parent}return this};
d.prototype.insertBefore=function(a){a&&(a=h.N(a),b.qE(a)&&a.before(this));return this};d.prototype.detach=function(){var a;null!=(a=this.parent)&&a._r(this);return this};d.prototype.remove=function(){var a;this.detach();this.resetState();for(a in this._e)this._e[a].length=0;return this};d.prototype.empty=function(){var a;var b=this.children.slice();var c=0;for(a=b.length;c<a;c++){var g=b[c];this._r(g)}return this};d.prototype.wrap=
function(a){if(a){a=h.N(a);var c=this.parent;b.qE(a)&&a!==this&&a!==this.parent&&(c&&c._r(this,a.parent?void 0:a),a.append(this))}return this};d.prototype.unwrap=function(){var a,b;if(b=this.parent){var c=k.batch(b.children);var g=b.next;if(a=b.parent)b.detach(),g?c.insertBefore(g):c.appendTo(a)}return this};d.prototype.replace=function(a){var c;a&&(a=h.N(a),b.qE(a)&&a!==this&&(a.detach(),null!=(c=this.parent)&&c._r(this,a)));return this};
d.prototype._r=function(a,b){var c=this._c.indexOf(a);-1!==c&&(b?(this.el.replaceChild(b.el,a.el),this._c.splice(c,1,b)):(this.el.removeChild(a.el),this._c.splice(c,1)));return this};Object.defineProperties(d.prototype,{html:{get:function(){return this.el.innerHTML},set:function(a){return this.el.innerHTML=a}},text:{get:function(){return this.el.textContent},set:function(a){return this.el.textContent=a}}});var r={type:"window",el:window,raw:window,_e:{_R:{}}};
r.on=d.prototype.on;r.off=d.prototype.off;r.emit=d.prototype.emit;r._l=d.prototype._l;Object.defineProperties(r,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:p,aspectRatio:u});var L=new function(){var a=[];window.addEventListener("resize",function(){var b;var c=0;for(b=a.length;c<b;c++){var e=a[c];e()}});this.pQ=function(a,b){var c=b.split("(");var e=c[0];e=function(){switch(e){case "window":return r;case "parent":return a.parent;
case "self":return a;default:return a.parentMatching(function(a){return a.ref===e.slice(1)})}}();c=c[1].slice(0,-1).split(f).map(function(a){var b=a.split(":");a=parseFloat(b[1]);isNaN(a)&&(a=b[1]);var c=b[0];var d=c.slice(0,4);b="max-"===d;var g=!b&&"min-"===d;if(b||g)c=c.slice(4);d=function(){switch(c){case "orientation":return function(){return e.orientation};case "aspect-ratio":return function(){return e.aspectRatio};case "width":case "height":return function(){return e[c]};default:return function(){var a=
e.style(c);var b=parseFloat(a);return isNaN(b)?a:b}}}();return{key:c,value:a,min:g,max:b,getter:d}});return{source:e,rules:c}};this.rg=function(c,e){var d;var g=this.pQ(c,e);g.source&&(a.push(d=function(){return b(c,g,e)}),d());return g};var b=function(a,b,c){var e;var d=!0;var g=b.rules;b=0;for(e=g.length;b<e;b++){var f=g[b];var l=f.getter();d=function(){switch(!1){case !f.min:return l>=f.value;case !f.max:return l<=f.value;default:return l===f.value}}();if(!d)break}return a.state(c,
d)};return this};var f=/,\s*/;var k=function(){var a;var c=1<=arguments.length?slice.call(arguments,0):[];switch(!1){case !b.Ar(c[0]):return k.apply(null,c[0]);case !b.template(c[0]):return c[0].spawn();case !b.qE(c[0]):return c[1]?c[0].updateOptions(c[1]):c[0];case !(b.dN(c[0])||b.domDoc(c[0])):if(c[0]._quickElement)return c[0]._quickElement;var f=c[0].nodeName.toLowerCase().replace("#","");var g=c[1]||{};g.existing=c[0];return new d(f,g);case c[0]!==window:return r;case !b.St(c[0]):f=
c[0].toLowerCase();g="text"===f?b.Ob(c[1])?c[1]:{text:c[1]||""}:b.Ob(c[1])?c[1]:{};c=c.slice(2);f=new d(f,g);var h=0;for(a=c.length;h<a;h++)g=c[h],b.St(g)&&(g=k.text(g)),b.template(g)&&(g=k(g)),b.Ar(g)&&(g=k.apply(null,g)),b.qE(g)&&g.appendTo(f);return f}};k.template=function(a){return new q(a,!0)};var m=function(a,b){this.elements=a;this.rR=b;this.elements=this.elements.map(function(a){return k(a)});return this};m.prototype.reverse=function(){this.elements=this.elements.reverse();
return this};m.prototype["return"]=function(a){return a?(this.rR=!0,this):this.lR};Object.keys(d.prototype).concat("css","replaceWith","html","text").forEach(function(a){return m.prototype[a]=function(b){var c;var e=this.lR=function(){var e;var d=this.elements;var g=[];var f=0;for(e=d.length;f<e;f++)c=d[f],"html"===a||"text"===a?b?g.push(c[a]=b):g.push(c[a]):g.push(c[a].apply(c,arguments));return g}.apply(this,arguments);return this.rR?e:this}});k.batch=function(a,
c){if(!b.iT(a))throw Error("Batch: expected an iT, got "+String(a));if(!a.length)throw Error("Batch: expected a non-empty element collection");return new m(a,c)};var C=function(a,e,d){var g,f,l,k;d&&(g={options:function(a){return c(a,d)}});b.Ar(e)&&(e=D(e,!1));g=c.deep.notKeys("children").notDeep("relatedInstance").transform(g).clone(a,e);a=a.children;e=(null!=e?e.children:void 0)||[];g.children=[];if(b.Ar(e)){var h=f=0;for(k=Math.max(a.length,e.length);0<=k?f<k:f>k;h=0<=k?++f:--f){var m=
l=!1;var n=a[h];var p=e[h];h=function(){switch(!1){case !b.template(p):return p;case !b.Ar(p):return m=D(p,!1);case !b.St(p):return m={type:"text",options:{text:p}};case !(!p&&!d):return l=!0;default:return m=p||!0}}();l?h=n:m&&(h=n?n.extend(h,d):new q(c.deep.clone(t,h)));g.children.push(h)}}else if(b.Ob(e))for(n in g.children=J(e,a,d),e)p=e[n],h=b.ObPlain(h)?p:D(p),g.children.push(new q(c.deep.clone(t,h))),delete e[n];return g};var J=function(a,b,c){var e,d;if(b.length){var f=[];var l=
0;for(e=b.length;l<e;l++){var h=b[l];(d=a[h.ref])?(d=h.extend(d,c),delete a[h.ref]):d=c?h.extend(null,c):h;d._config.children=J(a,d.children);f.push(d)}return f}return b};var D=function(a,e){switch(!1){case !b.Ar(a):var d={};if(b.St(a[0]))d.type=a[0];else throw Error(G+" string for 'type', got '"+String(a[0])+"'");if(1<a.length&&!b.Ob(a[1])&&null!==a[1])throw Error(G+" object for 'options', got '"+String(a[1])+"'");d.options=a[1]?c.deep.clone(a[1]):null;a[1]&&(d.ref=a[1].id||a[1].ref);
d.children=a.slice(2);!1===e?3===a.length&&b.ObPlain(a[2])&&!b.template(a[2])&&(d.children=a[2]):d.children=d.children.map(k.template);return d;case !(b.St(a)||b.dT(a)):return{type:"text",options:{text:a.textContent||a},children:t.children};case !b.dE(a):return{type:a.nodeName.toLowerCase(),ref:a.id,options:c.clone.keys(n)(a),children:t.children.map.call(a.childNodes,k.template)};case !b.qE(a):return{type:a.type,ref:a.ref,options:c.clone.deep.notKeys("relatedInstance")(a.options),
children:a.children.map(k.template)};case !b.template(a):return C(a._config);default:throw Error(G+" (array || string || dE || qE || template), got "+String(a));}};var G="Template Parse Error: expected";var t={type:"div",ref:void 0,options:{},children:[]};var q=function(){function a(a,b){this._config=b?D(a):a}a.prototype.spawn=function(a,b){if(a||b)var d=C(this._config,a,b);else d=c.clone(this._config),d.options=c.deepOnly("style").clone(d.options);return k.apply(null,[d.type,d.options].concat(slice.call(d.children)))};
a.prototype.extend=function(b,c){return new a(C(this._config,b,c))};return a}();null==q.name&&(q.name="QuickTemplate");Object.keys(t).forEach(function(a){return Object.defineProperty(q.prototype,a,{get:function(){return this._config[a]}})});Object.defineProperty(q.prototype,"child",{get:function(){return this._C||z(this)}});var K="link:a anchor:a a text div span h1 h2 h3 h4 h5 h6 header footer section button br ul ol li fieldset input textarea select option form frame hr iframe img picture main nav meta object pre style table tbody th tr td tfoot video".split(" ");
u=function(a){var b;var c=b=a;h.In(a,":")&&(a=a.split(":"),c=a[0],b=a[1]);return k[c]=function(){return k.apply(null,[b].concat(slice.call(arguments)))}};p=0;for(H=K.length;p<H;p++){var N=K[p];u(N)}k.version="1.0.32";return null!=("undefined"!==typeof module&&null!==module?module.exports:void 0)?module.exports=k:"function"===typeof define&&define.amd?define(["quickdom"],function(){return k}):this.Dom=k}()}})(this)();
