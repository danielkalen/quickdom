!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).quickdom=e()}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e,n,i=/^\d+(?:[a-z]|\%)+$/i,r=/\d+$/,s=/\s/,o=/([A-Z])+/g,a=["webkit","moz","ms","o"],l=["background-position-x","background-position-y","block-size","border-width","columnRule-width","cx","cy","font-size","grid-column-gap","grid-row-gap","height","inline-size","line-height","minBlock-size","min-height","min-inline-size","min-width","max-height","max-width","outline-offset","outline-width","perspective","shape-margin","stroke-dashoffset","stroke-width","text-indent","width","word-spacing","top","bottom","left","right","x","y"],u=["top","bottom","left","right"];["margin","padding","border","border-radius"].forEach(function(t){var e,n,i;for(l.push(t),n=0,i=u.length;n<i;n++)e=u[n],l.push(t+"-"+e)}),e=document.createElement("div").style;var h,c,p,f,d,y=function(t){return void 0!==e[t]},v=function(t,n){return window.CSS&&window.CSS.supports?window.CSS.supports(t,n):(e[t]=n,e[t]===""+n)},g=function(t,e){var n,i,r;if(e||!y(t))for(n=0,i=a.length;n<i;n++)if(y("-".concat(r=a[n],"-").concat(t)))return"-".concat(r,"-");return""},m=function(t){return t=t.replace(o,function(t,e){return"-".concat(e.toLowerCase())}),y(t)?t:"".concat(g(t,!0)).concat(t)},_=function(t,e){var n,o;return o=t,(n=l)&&-1!==n.indexOf(o)&&null!==e&&(e=""+e,!r.test(e)||i.test(e)||s.test(e)||(e+="line-height"===t?"em":"px")),e},b=function(t,e){var n,i,r,s,o,a,l;for(r="",n=0,i=(a=function t(e){var n,i,r,s,o;if(e.length<2)return e;for(o=e[0],s=[],n=[],r=e.length,i=0;++i!==r;)e[i]<=o?s.push(e[i]):n.push(e[i]);return t(s).concat(o,t(n))}(Object.keys(t))).length;n<i;n++)"string"!=typeof t[s=a[n]]&&"number"!=typeof t[s]||(o=m(s),l=_(o,t[s]),e&&(l+=" !important"),r+="".concat(o,":").concat(l,";"));return r},S=n=Object.create(null),k=function(t,e,i){var r,s;(r=n[i])||((s=document.createElement("style")).id="quickcss".concat(i||""),document.head.appendChild(s),n[i]=r={el:s,content:"",cache:Object.create(null)}),r.cache[t]||(r.cache[t]=e||!0,r.el.textContent=r.content+=t)},w=h=function(e,n,i,r){var s,o,a,l,u,c;switch(!1){case!((c=e)&&"object"===t(c)&&"number"==typeof c.length&&!c.nodeType):for(s=0,o=e.length;s<o;s++)a=e[s],h(a,n,i);break;case"object"!==t(n):for(l in n)u=n[l],h(e,l,u);break;default:if(n=m(n),void 0===i)return(e._computedStyle||(e._computedStyle=getComputedStyle(e)))[n];n&&e.style.setProperty(n,_(n,i),r?"important":void 0)}};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),t}function E(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}h.animation=function(e,n){var i,r,s,o;if(e&&"string"==typeof e&&n&&"object"===t(n)){for(i in s=g("animation"),r="",n)o=n[i],r+="".concat(i," {").concat(b(o),"}");return r="@".concat(s,"keyframes ").concat(e," {").concat(r,"}"),k(r,!0,0)}},h.register=function(e,n,i){var r,s,o;if(e&&"object"===t(e))return n||(n=0),e=b(e,i),(r=null!=(s=S[n])?s[e]:void 0)||(r=function(t){var e,n;for(e=5381,n=-1,t.length;++n!==t.length;)e=(e<<5)-e+t.charCodeAt(n),e|=0;return"_"+(e<0?-2*e:e)}(e),o=".".concat(r," {").concat(e,"}"),k(o,r,n)),r},h.clearRegistered=function(t){return function(t){var e,i,r,s,o;if(e=n[t]){if(!e.content)return;for(e.el.textContent=e.content="",i=0,o=(s=Object.keys(e.cache)).length;i<o;i++)r=s[i],e.cache[r]=null}}(t||0)},h.UNSET=function(){switch(!1){case!v("display","unset"):return"unset";case!v("display","initial"):return"initial";case!v("display","inherit"):return"inherit"}}(),h.supports=v,h.supportsProperty=y,h.normalizeProperty=m,h.normalizeValue=_,h.version="1.4.2",p=function(t){return Array.isArray(t)},f=function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)||p(t)},d=function(t,e,n){return t.deep?!t.notDeep||!t.notDeep[e]:t.deepOnly?t.deepOnly[e]||n&&d(t,n):void 0};var N,P,A,D,q=c=function(t,e,n,i){var r,s,o,a,l,u,h;for((!e||"object"!==T(e)&&"function"!=typeof e)&&(e={}),r=0,o=n.length;r<o;r++)if(null!=(a=n[r]))for(s in a)if(l=a[s],h=e[s],!(l===e||void 0===l||null===l&&!t.allowNull&&!t.nullDeletes||t.keys&&!t.keys[s]||t.notKeys&&t.notKeys[s]||t.own&&!a.hasOwnProperty(s)||t.globalFilter&&!t.globalFilter(l,s,a)||t.filters&&t.filters[s]&&!t.filters[s](l,s,a)))if(null===l&&t.nullDeletes)delete e[s];else switch(t.globalTransform&&(l=t.globalTransform(l,s,a)),t.transforms&&t.transforms[s]&&(l=t.transforms[s](l,s,a)),!1){case!(t.concat&&p(l)&&p(h)):e[s]=h.concat(l);break;case!(d(t,s,i)&&f(l)):u=f(h)?h:p(l)?[]:{},e[s]=c(t,u,[l],s);break;default:e[s]=l}return e};A=function(t){var e,n,i;if(t){if(i={},"object"!==T(t))i[t]=!0;else for(Array.isArray(t)||(t=Object.keys(t)),e=0,n=t.length;e<n;e++)i[t[e]]=!0;return i}},P=function(t){var e;return e=function(t){for(var n,i=arguments.length,r=-1,s=new Array(i);++r<i;)s[r]=arguments[r];return e.options.target?n=e.options.target:(n=t,s.shift()),q(e.options,n,s)},t&&(e.isBase=!0),e.options={},Object.defineProperties(e,N),e},N={deep:{get:function(){var t;return(t=this.isBase?P():this).options.deep=!0,t}},own:{get:function(){var t;return(t=this.isBase?P():this).options.own=!0,t}},allowNull:{get:function(){var t;return(t=this.isBase?P():this).options.allowNull=!0,t}},nullDeletes:{get:function(){var t;return(t=this.isBase?P():this).options.nullDeletes=!0,t}},concat:{get:function(){var t;return(t=this.isBase?P():this).options.concat=!0,t}},clone:{get:function(){var t;return(t=this.isBase?P():this).options.target={},t}},notDeep:{get:function(){var t;return t=this.isBase?P():this,function(e){return t.options.notDeep=A(e),t}}},deepOnly:{get:function(){var t;return t=this.isBase?P():this,function(e){return t.options.deepOnly=A(e),t}}},keys:{get:function(){var t;return t=this.isBase?P():this,function(e){return t.options.keys=A(e),t}}},notKeys:{get:function(){var t;return t=this.isBase?P():this,function(e){return t.options.notKeys=A(e),t}}},transform:{get:function(){var t;return t=this.isBase?P():this,function(e){return"function"==typeof e?t.options.globalTransform=e:e&&"object"===T(e)&&(t.options.transforms=e),t}}},filter:{get:function(){var t;return t=this.isBase?P():this,function(e){return"function"==typeof e?t.options.globalFilter=e:e&&"object"===T(e)&&(t.options.filters=e),t}}}},(D=P(!0)).version="1.7.4";var R=D,B=["id","name","type","href","selected","checked","className"],F=["id","ref","type","name","text","style","class","className","url","href","selected","checked","props","attrs","passStateToChildren","stateTriggers","unpassableStates"];function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Q(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),t}var I,H,$=function(t){return"object"===L(t)&&t},K=function(t){return"string"==typeof t},M=function(t){return"number"==typeof t&&!isNaN(t)},U=function(t){return t&&1===t.nodeType},W=function(t){return t&&3===t.nodeType},J=function(t){return t&&"TEXTAREA"===t.nodeName},V=function(t){return t&&"INPUT"===t.nodeName},X=function(t){return t&&"SELECT"===t.nodeName};I={natives:Object.freeze({defined:function(t){return void 0!==t},array:function(t){return t instanceof Array},object:$,objectPlain:function(t){return $(t)&&"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},string:K,number:M,numberLoose:function(t){return M(t)||K(t)&&M(Number(t))},iterable:function(t){return $(t)&&M(t.length)},function_:function(t){return"function"==typeof t}}),dom:Object.freeze({domDoc:function(t){return t&&9===t.nodeType},domEl:U,domText:W,domNode:function(t){return U(t)||W(t)},domTextarea:J,domInput:V,domSelect:X,domField:function(t){return V(t)||J(t)||X(t)}})},(H=function(){function t(e){var n,i,r;for(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),null==e&&(e=["natives"]),n=0,i=e.length;n<i;n++)r=e[n],I[r]&&this.load(I[r])}return Q(t,[{key:"create",value:function(){var e;return arguments.length&&(e=Array.prototype.slice.call(arguments)),new t(e)}}]),Q(t,[{key:"load",value:function(t){var e,n;if(I.natives.string(t)&&(t=I[t]),I.natives.objectPlain(t))for(e in t)n=t[e],"function_"===e&&(e="function"),this[e]=n}}]),t}().prototype.create().create("natives","dom")).load({quickDomEl:function(t){return t&&"QuickElement"===t.constructor.name},template:function(t){return t&&"QuickTemplate"===t.constructor.name}});var Z,G,Y,tt=H;Z=null,G=null,(Y=function(){var t,e,n,i,r,s,o;for(e=new Array(arguments.length),i=r=0,s=arguments.length;r<s;i=++r)t=arguments[i],e[i]=t;return o=Z.count,(n=Y.create(e))&&n._postCreation&&Z.count!==o&&n._postCreation(),n}).create=function(t){var e,n,i,r,s,o,a,l,u;switch(!1){case!tt.array(t[0]):return Y.apply(void 0,E(t[0]));case!tt.template(t[0]):return t[0].spawn();case!tt.quickDomEl(t[0]):return t[1]?t[0].updateOptions(t[1]):t[0];case!(tt.domNode(t[0])||tt.domDoc(t[0])):return t[0]._quickElement?t[0]._quickElement:(u=t[0].nodeName.toLowerCase().replace("#",""),(l=t[1]||{}).existing=t[0],new Z(u,l));case t[0]!==window:return G;case!tt.string(t[0]):if(l="text"===(u=t[0].toLowerCase())?tt.object(t[1])?t[1]:{text:t[1]||""}:tt.object(t[1])?t[1]:{},r=new Z(u,l),t.length>2){for(i=new Array(e=t.length),s=1;++s<e;)i[s+1]=t[s];for(o=0,a=i.length;o<a;o++)n=i[o],tt.string(n)&&(n=Y.text(n)),tt.array(n)&&(n=Y.apply(void 0,E(n))),tt.quickDomEl(n)&&r.append(n)}return r;case!(t[0]&&(tt.domNode(t[0][0])||tt.domDoc(t[0][0]))):return Y(t[0][0])}},Y.html=function(t){var e,n;return(n=document.createElement("div")).innerHTML=t,e=Array.prototype.slice.call(n.childNodes),Y.batch(e)},Y.isQuickEl=function(t){return tt.quickDomEl(t)},Y.isEl=function(t){return tt.domEl(t)};var et,nt=function(t,e){return t&&-1!==t.indexOf(e)},it=function(t,e){var n;return-1!==(n=t.indexOf(e))&&t.splice(n,1),t},rt=function(t){switch(!1){case!tt.string(t):return tn.text(t);case!tt.domNode(t):return tn(t);case!tt.template(t):return t.spawn();default:return t}},st=function(t){return"$"===t[0]||"@"===t[0]},ot=function(t,e,n){var i,r,s,o,a,l;if(e||(e=0),i=at.get(t,e))return i;for(o={className:[w.register(t,e,n)],fns:[],rule:t},r=0,s=(l=Object.keys(t)).length;r<s;r++)"function"==typeof t[a=l[r]]&&o.fns.push([a,t[a]]);return at.set(t,o,e)},at=new(function(){function t(){C(this,t),this.keys=Object.create(null),this.values=Object.create(null)}return O(t,[{key:"get",value:function(t,e){var n;if(this.keys[e]&&-1!==(n=this.keys[e].indexOf(t)))return this.values[e][n]}},{key:"set",value:function(t,e,n){return this.keys[n]||(this.keys[n]=[],this.values[n]=[]),this.keys[n].push(t),this.values[n].push(e),e}}]),t}());et=/\s+/;var lt=function(t,e,n,i){var r,s,o=this;if(null==this._eventCallbacks&&(this._eventCallbacks={__refs:{}}),tt.string(t)&&tt.function(e)){if(s=t.split("."),r=s[1],"inserted"===(t=s[0])&&this._inserted)return e.call(this,this._parent),this;t.split(et).forEach(function(t){var s;return o._eventCallbacks[t]||(o._eventCallbacks[t]=[],i||o._listenTo(t,function(e){return o._invokeHandlers(t,e)},n)),r&&(null==(s=o._eventCallbacks.__refs)[t]&&(s[t]={}),o._eventCallbacks.__refs[t][r]=e),o._eventCallbacks[t].push(e)})}return this},ut=function(t,e){var n,i=this;return tt.string(t)&&tt.function(e)&&this.on(t,n=function(r){return i.off(t,n),e.call(i,r)}),this},ht=function(t,e){var n,i,r,s=this;if(null==this._eventCallbacks&&(this._eventCallbacks={__refs:{}}),tt.string(t))r=t.split("."),n=r[1],(t=r[0]).split(et).forEach(function(t){var i;if(s._eventCallbacks[t]){if(null==e&&(e=null!=(i=s._eventCallbacks.__refs[t])?i[n]:void 0),tt.function(e))return it(s._eventCallbacks[t],e);if(!n)return s._eventCallbacks[t].length=0}});else for(i in this._eventCallbacks)this.off(i);return this},ct=function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return t&&tt.string(t)&&((e=document.createEvent("Event")).initEvent(t,n,i),r&&"object"===x(r)&&R(e,r),this.el.dispatchEvent(e)),this},pt=function(t,e){var n;return t&&tt.string(t)&&(null!=(n=this._eventCallbacks)?n[t]:void 0)&&this._invokeHandlers(t,e),this},ft=function(t,e){var n,i,r;for(i=0,r=(n=this._eventCallbacks[t].slice()).length;i<r;i++)n[i].call(this,e)},dt=function(t,e,n){var i,r;return r=this.el.addEventListener?"addEventListener":"attachEvent",i=this.el.addEventListener?t:"on".concat(t),this.el[r](i,e,n),this};var yt,vt=function(t){var e,n,i,r,s,o,a=this;if("text"!==this.type){if(e=arguments,tt.string(t)){if(o="function"==typeof e[1]?e[1].call(this,this.related):e[1],null===e[1]&&tt.defined(this.currentStateStyle(t))&&!tt.function(this.currentStateStyle(t))&&(o=w.UNSET),o&&"function"==typeof o.then?o.then(function(e){return w(a.el,t,e,a.options.forceStyle)}):s=w(this.el,t,o,this.options.forceStyle),1===e.length)return this._inserted?s:s?"":s}else if(tt.object(t))for(r=Object.keys(t),n=-1;i=r[++n];)this.style(i,t[i]);return this}},gt=function(t,e){var n,i;if("text"!==this.type)return i=this.el.style[t],tt.string(i)||tt.number(i)?"function"==typeof(n=(e?0:this.style(t))||this.el.style[t]||this.currentStateStyle(t)||"")?n.call(this,this.related):n:this},mt=function(t,e){return parseFloat(this.styleSafe(t,e))},_t=function(t){var e,n,i,r;if(r=this._resolveFnStyles(this._getActiveStates(),!0),this.style(r),t)for(e=0,n=(i=this._children).length;e<n;e++)i[e].recalcStyle();return this},bt=function(t){var e,n,i;if(t){if(this._state.length){var r;if(i=this._state.slice(),this._stateShared&&this._stateShared.length)(r=i).push.apply(r,E(this._stateShared));for(e=i.length;n=i[--e];)if(this._styles[n]&&tt.defined(this._styles[n].rule[t]))return this._styles[n].rule[t]}if(this._styles.base)return this._styles.base.rule[t]}},St=function(){return this.style("display","none")},kt=function(t){var e;return t||"none"!==(t=this.currentStateStyle("display"))&&t||(t="block"),null==t&&(t=(null!=(e=this._styles.base)?e.display:void 0)||"block"),this.style("display",t)},wt={get:function(){return this.width>this.height?"landscape":"portrait"}},xt={get:function(){return this.width/this.height}};var Ct,jt=yt={type:"window",el:window,raw:window,_eventCallbacks:{__refs:{}}};yt.on=lt,yt.off=ht,yt.emit=ct,yt.emitPrivate=pt,yt._listenTo=dt,yt._invokeHandlers=ft,Object.defineProperties(yt,{width:{get:function(){return window.innerWidth}},height:{get:function(){return window.innerHeight}},orientation:wt,aspectRatio:xt}),Ct=/,\s*/;var Ot,Et,Tt=new function(){var t,e;return t=[],window.addEventListener("resize",function(){var e,n;for(e=0,n=t.length;e<n;e++)(0,t[e])()}),this.parseQuery=function(t,e){var n,i,r;return n=e.split("("),r=n[0],r=function(){switch(r){case"window":return jt;case"parent":return t.parent;case"self":return t;default:return t.parentMatching(function(t){return t.ref===r.slice(1)})}}(),i=n[1].slice(0,-1).split(Ct).map(function(t){var e,n,i,s,o,a,l;return a=t.split(":"),l=parseFloat(a[1]),isNaN(l)&&(l=a[1]),o=!(s="max-"===(i=(n=a[0]).slice(0,4)))&&"min-"===i,(s||o)&&(n=n.slice(4)),e=function(){switch(n){case"orientation":return function(){return r.orientation};case"aspect-ratio":return function(){return r.aspectRatio};case"width":case"height":return function(){return r[n]};default:return function(){var t,e;return e=r.style(n),t=parseFloat(e),isNaN(t)?e:t}}}(),{key:n,value:l,min:o,max:s,getter:e}}),{source:r,rules:i}},this.register=function(n,i){var r,s;return(s=this.parseQuery(n,i)).source&&(t.push(r=function(){return e(n,s,i)}),r()),s},e=function(t,e,n){var i,r,s,o,a,l;for(o=!0,r=0,s=(a=e.rules).length;r<s&&(l=a[r],i=l.getter(),o=function(){switch(!1){case!l.min:return i>=l.value;case!l.max:return i<=l.value;default:return i===l.value}}());r++);return t.state(n,o)},this},Nt=function(){function t(e){C(this,t),this.string=e.join("+"),this.array=e.slice(),this.length=e.length}return O(t,[{key:"includes",value:function(t){var e,n,i;for(e=0,n=(i=this.array).length;e<n;e++)if(i[e]===t)return!0;return!1}},{key:"without",value:function(t){return this.array.filter(function(e){return e!==t}).join("+")}},{key:"isApplicable",value:function(t,e){return this.array.filter(function(n){return n===t||-1!==e.indexOf(n)}).length===this.array.length}}]),t}();Ot={hover:{on:"mouseenter",off:"mouseleave",bubbles:!0},focus:{on:"focus",off:"blur",bubbles:!0}};var Pt=function(){var t,e,n,i,r;this.options.relatedInstance&&((t=this.options).related||(t.related=this.options.relatedInstance),this.options.relatedInstance=null),this.related=null!=(e=this.options).related?e.related:e.related=this,this.options.class&&(this.options.className=this.options.class),this.options.url&&(this.options.href=this.options.url),null==(n=this.options).unpassableStates&&(n.unpassableStates=[]),null==(i=this.options).passStateToChildren&&(i.passStateToChildren=!0),null==(r=this.options).passDataToChildren&&(r.passDataToChildren=!0),this.options.stateTriggers=this.options.stateTriggers?R.clone.deep(Ot,this.options.stateTriggers):Ot,"text"===this.type?R(this,this._parseTexts(this.options.text,this._texts)):R(this,this._parseStyles(this.options.style,this._styles))},At=function(t,e){var n,i,r,s,o,a,l,u,h,c,p,f,d,y,v;if(tt.objectPlain(t)){if(v=Object.keys(t).filter(function(t){return st(t)}),p=it(v.slice(),"$base"),n=v.filter(function(t){return"@"===t[0]}).map(function(t){return t.slice(1)}),i=v.map(function(t){return t.slice(1)}),o=e||{},s=r=void 0,a=nt(v,"$base")?t.$base:t,o.base=ot(a,0,u=this.options.forceStyle),p.length)for(l=function(t,e,i){var a,h,c,p,f,d,y,v;for(p={},a=!1,h=0,c=(v=Object.keys(t)).length;h<c;h++)f=v[h],st(f)?(e.push(y=f.slice(1)),d=new Nt(e),null==s&&(s=[]),null==r&&(r=[]),r.push(d),"@"===f[0]&&n.push(y),o[d.string]=ot(l(t[f],e,i+1),i+1,u)):(a=!0,p[f]=t[f]);if(a)return p},h=0,c=p.length;h<c;h++)y=(f=p[h]).slice(1),(d=l(t[f],[y],1))&&(o[y]=ot(d,1));return{_styles:o,_mediaStates:n,_stateShared:s,_providedStates:i,_providedStatesShared:r}}},Dt=function(t,e){var n,i,r,s,o,a;if(tt.objectPlain(t)){for(n=(a=Object.keys(t).map(function(t){return t.slice(1)})).filter(function(t){return"base"!==t}),i=e||{},i={base:""},r=0,s=a.length;r<s;r++)i[o=a[r]]=t["$"+o];return{_texts:i,_providedStates:n}}},qt=function(){var t,e,n,i,r,s,o,a=this;if((i=this.options.id||this.options.ref)&&this.attr("data-ref",this.ref=i),this.options.id&&(this.el.id=this.options.id),this.options.className&&(this.el.className=this.options.className),this.options.src&&(this.el.src=this.options.src),this.options.href&&(this.el.href=this.options.href),this.options.type&&(this.el.type=this.options.type),this.options.name&&(this.el.name=this.options.name),this.options.value&&(this.el.value=this.options.value),this.options.selected&&(this.el.selected=this.options.selected),this.options.checked&&(this.el.checked=this.options.checked),this.options.props&&this.prop(this.options.props),this.options.attrs&&this.attr(this.options.attrs),this._applyRegisteredStyle(this._styles.base,null,null,this.options.styleAfterInsert),this._texts&&(this.text=this._texts.base),this.on("inserted",Et,!1,!0),this.options.invokeComputersOnce&&(this._invokedComputers={}),this.options.recalcOnResize&&window.addEventListener("resize",function(){return a.recalcStyle()}),this.options.events)for(t in r=this.options.events)e=r[t],this.on(t,e);if(this.options.methods)for(n in s=this.options.methods)o=s[n],this[n]||(tt.function(o)?this[n]=o:tt.object(o)&&Object.defineProperty(this,n,{configurable:!0,get:o.get,set:o.set}));"text"!==this.type&&tt.object(this.options.text)&&this.append(Y("text",{text:this.options.text}))},Rt=function(t){this.options.computers&&(t&&this.options.data&&(t=R.clone(this.options.data,t)),t||(t=this.options.data),this.applyData(t,!1),this.options.computers._init&&this._runComputer("_init",t)),this.options.state&&this.state(this.options.state)},Bt=function(t){var e=this;Object.keys(this.options.stateTriggers).forEach(function(n){var i,r,s;if(s=e.options.stateTriggers[n],nt(e._providedStates,n)||t||s.force)return r=tt.string(s)?s:s.on,tt.object(s)&&(i=s.off),e._listenTo(r,function(){return e.state(n,!0,s.bubbles)}),i?e._listenTo(i,function(){return e.state(n,!1,s.bubbles)}):void 0})},Ft=function(){var t;return t=void 0,Object.defineProperty(this,"_parent",{get:function(){return t},set:function(e){var n=this;(t=e)&&(this.parents.slice(-1)[0].raw===document.documentElement?this._unproxyParent(e):t.on("inserted",function(){if(t===e)return n._unproxyParent(e)}))}})},Lt=function(t){delete this._parent,this._parent=t,this.emitPrivate("inserted",t)};Et=function(){var t,e,n,i,r;if(this._inserted=this,this.options.styleAfterInsert&&this.recalcStyle(),(n=this._mediaStates)&&this._mediaStates.length){for(this._mediaStates=Object.create(null),r=[],t=0,e=n.length;t<e;t++)i=n[t],r.push(this._mediaStates[i]=Tt.register(this,i));return r}};var zt,Qt=function(t){return Kt(this,t)},It=function(t){var e,n;if(tt.function(t)||(e=tt.string(t)))for(n=this.parent;n;){if(e){if(n.ref===t)return n}else if(t(n))return n;n=n.parent}},Ht=function(t){return Y(this.raw.querySelector(t))},$t=function(t){var e,n,i,r,s;for(r=[],e=0,i=(s=this.raw.querySelectorAll(t)).length;e<i;e++)n=s[e],r.push(n);return Y.batch(r)},Kt=function(t,e){var n,i,r;for(tt.function(e)||(n=tt.string(e))||(e=void 0),r=[],i=t.parent;i;)r.push(i),i=i.parent,n?i&&i.ref===e&&(i=null):e&&e(i)&&(i=null);return r},Mt=function t(e,n){var i,r,s,o,a,l,u;if(!n&&e._childRefs||(e._childRefs={}),u=e._childRefs,e.ref&&(u[e.ref]=e),(r=e.children).length)for(o=0,a=r.length;o<a;o++)for(l in i=t(r[o],n))s=i[l],u[l]||(u[l]=s);return u},Ut=function(t,e){var n;return(n=t.parent)?n.children.filter(function(n){return n[e]===t[e]}).indexOf(t):null},Wt=function(t){var e,n,i,r;if(t.length){for(r=[],e=0,i=t.length;e<i;e++)"text"!==(n=t[e]).type&&r.push(n);return r}return t};Y.query=function(t){return Y(document).query(t)},Y.queryAll=function(t){return Y(document).queryAll(t)},zt=[];var Jt=function(t,e,n,i){var r,s,o,a,l,u,h,c,p,f;if(0===arguments.length)return this._state.slice();if(1===arguments.length){if(tt.string(t))return nt(this._state,t);if(tt.object(t)){for(u=Object.keys(t),o=-1;l=u[++o];)this.state(l,t[l]);return this}}else{if(this._statePipeTarget&&i!==this)return this._statePipeTarget.state(t,e,n,this),this;if(tt.string(t)){if("$"===t[0]&&(t=t.slice(1)),"base"===t)return this;if(s=!!e,r=this._getActiveStates(t,!1),this.state(t)!==s&&(c="text"===this.type?"Text":"Style",s?(this._state.push(t),f="ON"):(it(this._state,t),f="OFF"),this["_turn"+c+f](t,r),this.emitPrivate("stateChange:".concat(t),s)),!nt(this.options.unpassableStates,t))if(n)this.parent&&this._parent.state(t,e,!0,i||this);else if(this.options.passStateToChildren)for(a=0,h=(p=this._children).length;a<h;a++)p[a].state(t,e,!1,i||this);return this}}},Vt=function(t){return this.state(t,!this.state(t))},Xt=function(){var t,e,n,i;for(e=0,n=(i=this._state.slice()).length;e<n;e++)t=i[e],this.state(t,!1);return this},Zt=function(t){var e,n,i,r;if(t){if(t=rt(t),tt.quickDomEl(t)&&t!==this)for(this._statePipeTarget=t,n=0,i=(r=this._state).length;n<i;n++)e=r[n],t.state(e,!0)}else!1===t&&delete this._statePipeTarget;return this},Gt=function(t,e,n,i){var r,s,o,a,l,u,h,c,p;if(t){for(o=0,l=(h=t.className).length;o<l;o++)r=h[o],this.addClass(r);if(t.fns.length&&!i)for(e&&(p=this._resolveFnStyles(e,n)),a=0,u=(c=t.fns).length;a<u;a++)s=c[a],p&&p[s[0]]||this.style(s[0],s[1])}},Yt=function(t,e,n){var i,r,s,o,a,l,u,h,c,p;for(s=0,a=(u=t.className).length;s<a;s++)i=u[s],this.removeClass(i);if(t.fns.length)for(e&&(p=this._resolveFnStyles(e,n)),o=0,l=(h=t.fns).length;o<l;o++)r=h[o],c=p&&p[r[0]]||null,this.style(r[0],c)},te=function(t,e){var n,i,r,s,o;if(s=this.options.styleAfterInsert&&!this._inserted,this._styles[t]&&this._applyRegisteredStyle(this._styles[t],this._getSuperiorStates(t,e),!1,s),this._providedStatesShared)for(n=0,i=(r=this._getSharedStates(t)).length;n<i;n++)o=r[n],nt(this._stateShared,o.string)||this._stateShared.push(o.string),this._applyRegisteredStyle(this._styles[o.string],null,null,s)},ee=function(t,e){var n,i,r,s,o,a;if(this._styles[t]&&this._removeRegisteredStyle(this._styles[t],e,!0),this._providedStatesShared){if(0===(s=this._getSharedStates(t)).length)return;for(i=0,r=s.length;i<r;i++)o=s[i],it(this._stateShared,o.string),(a=this._styles[o.string]).fns.length&&this._stateShared.length&&!n&&(n=this._stateShared.filter(function(e){return!nt(e,t)}),e=e.concat(n)),this._removeRegisteredStyle(a,e,!0)}},ne=function(t,e){var n;this._texts&&tt.string(n=this._texts[t])&&(this._getSuperiorStates(t,e).length||(this.text=n))},ie=function(t,e){var n;this._texts&&tt.string(n=this._texts[t])&&(e=e.filter(function(e){return e!==t}),null==(n=this._texts[e[e.length-1]])&&(n=this._texts.base),this.text=n)},re=function(t){var e,n,i,r,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._providedStates)return zt;if(e=r=this._state,t)for(r=[],n=0,i=e.length;n<i;n++)(Jt=e[n])!==t&&r.push(Jt);return s&&this._providedStatesShared?r.concat(this._stateShared):r},se=function(t,e){var n,i,r,s,o;if((o=this._providedStates.indexOf(t))===this._providedStates.length-1)return zt;for(s=[],i=0,r=e.length;i<r;i++)n=e[i],this._providedStates.indexOf(n)>o&&s.push(n);return s},oe=function(t){var e,n,i,r,s,o;for(e=this._state,s=[],n=0,i=(r=this._providedStatesShared).length;n<i;n++)(o=r[n]).includes(t)&&o.isApplicable(t,e)&&s.push(o);return s},ae=function(t,e){var n,i,r,s,o,a,l;for(e&&(t=["base"].concat(t)),a={},i=0,s=t.length;i<s;i++)if(Jt=t[i],this._styles[Jt]&&this._styles[Jt].fns.length)for(r=0,o=(l=this._styles[Jt].fns).length;r<o;r++)a[(n=l[r])[0]]=n[1];return a};var le=function(){return Y.template(this)},ue=function(){var t,e,n,i,r,s,o,a,l,u,h,c,p,f,d,y,v;for(r=this.el.cloneNode(!1),f=R.clone(this.options,{existing:r}),p=new this.constructor(this.type,f),o=0,u=(d=this._state).length;o<u;o++)t=d[o],p.state(t,!0);for(a=0,h=(y=this.children).length;a<h;a++)i=y[a],p.append(i.clone());for(s in v=this._eventCallbacks)for(l=0,c=(n=v[s]).length;l<c;l++)e=n[l],p.on(s,e);return p},he=function(t){var e;return t&&(t=rt(t),tt.quickDomEl(t)&&((e=t.parent)&&e._removeChild(t),this._children.push(t),this.el.appendChild(t.el),t._refreshParent())),this},ce=function(t){return t&&(t=rt(t),tt.quickDomEl(t)&&t.append(this)),this},pe=function(t){var e;return t&&(t=rt(t),tt.quickDomEl(t)&&((e=t.parent)&&e._removeChild(t),this._children.unshift(t),this.el.insertBefore(t.el,this.el.firstChild),t._refreshParent())),this},fe=function(t){return t&&(t=rt(t),tt.quickDomEl(t)&&t.prepend(this)),this},de=function(t){var e;return t&&this.parent&&(t=rt(t),tt.quickDomEl(t)&&(e=this.parent._children.indexOf(this),this.parent._children.splice(e+1,0,t),this.el.parentNode.insertBefore(t.el,this.el.nextSibling),t._refreshParent())),this},ye=function(t){return t&&(t=rt(t),tt.quickDomEl(t)&&t.after(this)),this},ve=function(t){var e;return t&&this.parent&&(t=rt(t),tt.quickDomEl(t)&&(e=this.parent._children.indexOf(this),this.parent._children.splice(e,0,t),this.el.parentNode.insertBefore(t.el,this.el),t._refreshParent())),this},ge=function(t){return t&&(t=rt(t),tt.quickDomEl(t)&&t.before(this)),this},me=function(){var t;return null!=(t=this.parent)&&t._removeChild(this),this},_e=function(){var t;if(this.detach(),this.resetState(),this._eventCallbacks)for(t in this._eventCallbacks)this._eventCallbacks[t].length=0;return this},be=function(){var t,e,n,i;for(e=0,n=(i=this.children.slice()).length;e<n;e++)t=i[e],this._removeChild(t);return this},Se=function(t){var e;return t&&(t=rt(t),e=this.parent,tt.quickDomEl(t)&&t!==this&&t!==this.parent&&(e&&e._removeChild(this,t.parent?void 0:t),t.append(this))),this},ke=function(){var t,e,n,i;return(e=this.parent)&&(n=Y.batch(e.children),i=e.next,(t=e.parent)&&(e.detach(),i?n.insertBefore(i):n.appendTo(t))),this},we=function(t){var e;return t&&(t=rt(t),tt.quickDomEl(t)&&t!==this&&(t.detach(),null!=(e=this.parent)&&e._removeChild(this,t),t._refreshParent())),this},xe=function(t){return nt(this.classList,t)},Ce=function(t){var e;return-1===(e=this.classList).indexOf(t)&&(e.push(t),this.className=e.length>1?e.join(" "):e[0]),this},je=function(t){var e,n;return-1!==(n=(e=this.classList).indexOf(t))&&(e.splice(n,1),this.className=e.length?e.join(" "):""),this},Oe=function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t),this},Ee=function(t){return this.ref=this.options.ref=t,this.attr("data-ref",t),this},Te=function(){return this.parent},Ne=function(t,e){var n;return-1!==(n=this.children.indexOf(t))&&(e?(this.el.replaceChild(e.el,t.el),this._children.splice(n,1,e)):(this.el.removeChild(t.el),this._children.splice(n,1))),this};var Pe=function(t){return tt.object(t)&&(this.options=t,this._normalizeOptions(),this._applyOptions(this.options)),this},Ae=function(t){var e,n,i,r,s;if(tt.objectPlain(t)&&(R.deep.concat(this,i=this._parseStyles(t)),i._styles))for(e=0,n=(s=Object.keys(i._styles)).length;e<n;e++)r=s[e],(this.state(r)||"base"===r)&&this._applyRegisteredStyle(this._styles[r],this._getActiveStates(r),!1);return this},De=function(t){return tt.objectPlain(t)&&R.deep.concat(this,this._parseTexts(t)),this},qe=function(t,e){var n,i,r,s,o,a,l,u,h;if(this.options.passDataToChildren&&this._children.length&&(null!=e?e:e=!0))for(r=0,l=(h=this._children).length;r<l;r++)h[r].applyData(t);if(n=this.options.computers)for(i=this.options.defaults,s=0,u=(a=Object.keys(n)).length;s<u;s++){if(o=a[s],this.options.invokeComputersOnce){if(this._invokedComputers[o])continue;this._invokedComputers[o]=1}t&&t.hasOwnProperty(o)?this._runComputer(o,t[o],t):i&&i.hasOwnProperty(o)&&this._runComputer(o,i[o],t)}return this},Re=function(t,e,n){return this.options.computers[t].call(this,e,n)};var Be,Fe,Le=function(t,e){var n,i,r;if(1===arguments.length){if("string"==typeof t)return this.el.getAttribute(t);if(tt.object(t))for(r=Object.keys(t),n=-1;i=r[++n];)this.attr(i,t[i])}else{if(null===e)return this.el.removeAttribute(t);this.el.setAttribute(t,e)}return this},ze=function(t,e){var n,i,r;if(1===arguments.length){if("string"==typeof t)return this.el[t];if(tt.object(t))for(r=Object.keys(t),n=-1;i=r[++n];)this.prop(i,t[i])}else this.el[t]=e;return this};Fe="http://www.w3.org/2000/svg";var Qe=Be=function(){var t=function(){function t(e,n){C(this,t),this.type=e,this.options=n,t.count++,"*"===this.type[0]&&(this.svg=!0),this.el=this.options.existing||("text"===this.type?document.createTextNode("string"==typeof this.options.text?this.options.text:""):this.svg?document.createElementNS(Fe,this.type.slice(1)):document.createElement(this.type)),"text"===this.type&&(this.append=this.prepend=this.attr=function(){}),this._parent=null,this._styles={},this._state=[],this._children=[],this._normalizeOptions(),this._applyOptions(),this._attachStateEvents(),this._proxyParent(),this.options.existing&&this._refreshParent(),this.el._quickElement=this}return O(t,[{key:"toJSON",value:function(){var t,e,n,i,r;for(r=[this.type,R.clone.keys(F)(this.options)],n=0,i=(e=this.children).length;n<i;n++)t=e[n],r.push(t.toJSON());return r}}]),t}();return t.count=0,t}.call(void 0);null==Be.name&&(Be.name="QuickElement"),function(t){t.prototype._normalizeOptions=Pt,t.prototype._parseStyles=At,t.prototype._parseTexts=Dt,t.prototype._applyOptions=qt,t.prototype._postCreation=Rt,t.prototype._attachStateEvents=Bt,t.prototype._proxyParent=Ft,t.prototype._unproxyParent=Lt}(Be),function(t){Object.defineProperties(t.prototype,{raw:{get:function(){return this.el}},0:{get:function(){return this.el}},css:{get:function(){return this.style}},replaceWith:{get:function(){return this.replace}},removeListener:{get:function(){return this.off}}})}(Be),function(t){t.prototype.parentsUntil=Qt,t.prototype.parentMatching=It,t.prototype.query=Ht,t.prototype.queryAll=$t,Object.defineProperties(t.prototype,{children:{get:function(){var t,e,n,i;if(this.el.childNodes.length!==this._children.length)for(this._children.length=0,e=0,n=(i=this.el.childNodes).length;e<n;e++)(t=i[e]).nodeType<4&&this._children.push(Y(t));return this._children}},elementChildren:{get:function(){return Wt(this.children)}},parent:{get:function(){return this._parent&&this._parent.el===this.el.parentNode||tt.domDoc(this.el.parentNode)||(this._parent=Y(this.el.parentNode)),this._parent}},parents:{get:function(){return Kt(this)}},next:{get:function(){return Y(this.el.nextSibling)}},nextEl:{get:function(){return Y(this.el.nextElementSibling)}},nextElAll:{get:function(){return Wt(this.nextAll)}},nextAll:{get:function(){var t,e;for(e=[],t=Y(this.el.nextSibling);t;)e.push(t),t=t.next;return e}},prev:{get:function(){return Y(this.el.previousSibling)}},prevEl:{get:function(){return Y(this.el.previousElementSibling)}},prevElAll:{get:function(){return Wt(this.prevAll)}},prevAll:{get:function(){var t,e;for(e=[],t=Y(this.el.previousSibling);t;)e.push(t),t=t.prev;return e}},siblings:{get:function(){return this.prevAll.reverse().concat(this.nextAll)}},elementSiblings:{get:function(){return Wt(this.siblings)}},child:{get:function(){return this._childRefs||Mt(this)}},childf:{get:function(){return Mt(this,!0)}},firstChild:{get:function(){return this.children[0]}},lastChild:{get:function(){var t;return(t=this.children)[t.length-1]}},index:{get:function(){var t;return(t=this.parent)?t.children.indexOf(this):null}},indexType:{get:function(){return Ut(this,"type")}},indexRef:{get:function(){return Ut(this,"ref")}}})}(Be),function(t){t.prototype.on=lt,t.prototype.once=ut,t.prototype.off=ht,t.prototype.emit=ct,t.prototype.emitPrivate=pt,t.prototype._invokeHandlers=ft,t.prototype._listenTo=dt}(Be),function(t){t.prototype.state=Jt,t.prototype.toggleState=Vt,t.prototype.resetState=Xt,t.prototype.pipeState=Zt,t.prototype._applyRegisteredStyle=Gt,t.prototype._removeRegisteredStyle=Yt,t.prototype._turnStyleON=te,t.prototype._turnStyleOFF=ee,t.prototype._turnTextON=ne,t.prototype._turnTextOFF=ie,t.prototype._getActiveStates=re,t.prototype._getSuperiorStates=se,t.prototype._getSharedStates=oe,t.prototype._resolveFnStyles=ae}(Be),function(t){Object.defineProperties(t.prototype,{orientation:wt,aspectRatio:xt,rect:{get:function(){return this.el.getBoundingClientRect()}},width:{get:function(){return parseFloat(this.style("width"))},set:function(t){return this.style("width",t)}},height:{get:function(){return parseFloat(this.style("height"))},set:function(t){return this.style("height",t)}}}),t.prototype.style=vt,t.prototype.styleSafe=gt,t.prototype.styleParsed=mt,t.prototype.recalcStyle=_t,t.prototype.currentStateStyle=bt,t.prototype.hide=St,t.prototype.show=kt}(Be),function(t){Object.defineProperties(t.prototype,{html:{get:function(){return this.el.innerHTML},set:function(t){return this.el.innerHTML=t}},text:{get:function(){return this.el.textContent},set:function(t){return this.el.textContent=t}},className:{get:function(){return this.svg?this.attr("class")||"":this.raw.className},set:function(t){return this.svg?this.attr("class",t):this.raw.className=t}},classList:{get:function(){var t;return""===(t=this.className.split(/\s+/))[t.length-1]&&t.pop(),""===t[0]&&t.shift(),t}}}),t.prototype.toTemplate=le,t.prototype.clone=ue,t.prototype.append=he,t.prototype.appendTo=ce,t.prototype.prepend=pe,t.prototype.prependTo=fe,t.prototype.after=de,t.prototype.insertAfter=ye,t.prototype.before=ve,t.prototype.insertBefore=ge,t.prototype.detach=me,t.prototype.remove=_e,t.prototype.empty=be,t.prototype.wrap=Se,t.prototype.unwrap=ke,t.prototype.replace=we,t.prototype.hasClass=xe,t.prototype.addClass=Ce,t.prototype.removeClass=je,t.prototype.toggleClass=Oe,t.prototype.setRef=Ee,t.prototype._refreshParent=Te,t.prototype._removeChild=Ne}(Be),function(t){t.prototype.updateOptions=Pe,t.prototype.updateStateStyles=Ae,t.prototype.updateStateTexts=De,t.prototype.applyData=qe,t.prototype._runComputer=Re}(Be),function(t){t.prototype.attr=Le,t.prototype.prop=ze}(Be);var Ie={type:"div",ref:void 0,options:{},children:[]};var He,$e,Ke,Me=function(t,e){var n;switch(!1){case!tt.array(t):if(n={},!tt.string(t[0]))throw new Error("".concat("Template Parse Error: expected"," string for 'type', got '").concat(String(t[0]),"'"));if(n.type=t[0],t.length>1&&!tt.object(t[1])&&null!==t[1])throw new Error("".concat("Template Parse Error: expected"," object for 'options', got '").concat(String(t[1]),"'"));return n.options=t[1]?R.deep.clone(t[1]):Ie.options,t[1]&&(n.ref=t[1].id||t[1].ref),n.children=t.slice(2),!1===e?3===t.length&&tt.objectPlain(t[2])&&!tt.template(t[2])&&(n.children=t[2]):n.children=n.children.map(tn.template),n;case!(tt.string(t)||tt.domText(t)):return{type:"text",options:{text:t.textContent||t},children:Ie.children};case!tt.domEl(t):return{type:t.nodeName.toLowerCase(),ref:t.id,options:R.clone.keys(B)(t),children:Ie.children.map.call(t.childNodes,tn.template)};case!tt.quickDomEl(t):return{type:t.type,ref:t.ref,options:R.clone.deep.notKeys(["relatedInstance","related"])(t.options),children:t.children.map(tn.template)};case!tt.template(t):return t;default:throw new Error("".concat("Template Parse Error: expected"," (array || string || domEl || quickDomEl || template), got ").concat(String(t)))}};He=["relatedInstance","related","data"],$e=["children","_childRefs"];var Ue,We=function(t,e,n){var i,r,s,o,a,l,u,h,c,p,f,d,y,v;if(n&&(s={options:function(t){return R(t,n)}}),tt.array(e)?e=Me(e,!1):e&&(void 0===(v=e).type&&void 0===v.ref&&void 0===v.options&&void 0===v.children)&&(e={options:e}),f=R.deep.nullDeletes.notKeys($e).notDeep(He).transform(s).clone(t,e),r=t.children,c=(null!=e?e.children:void 0)||[],f.children=[],tt.array(c))for(a=Math.max(r.length,c.length),o=-1;++o!==a;)l=p=!1,i=r[o],u=c[o],h=function(){switch(!1){case!tt.template(u):return u;case!tt.array(u):return l=Me(u);case!tt.string(u):return l={type:"text",options:{text:u}};case!(!u&&!n):return p=!0;default:return l=u||!0}}(),p?h=i:l&&(h=i?i.extend(h,n):new Ve(R.clone(Ie,h))),f.children.push(h);else if(tt.object(c))for(d in c=R.allowNull.clone(c),f.children=Ke(c,r,n),y=c)u=y[d],h=tt.objectPlain(u)&&!tt.template(u)?u:Me(u),f.children.push(new Ve(h)),delete y[d];return f};Ke=function(t,e,n){var i,r,s,o,a,l;if(e.length){for(l=[],r=0,s=e.length;r<s;r++){if(i=e[r],o=t[i.ref])a=i.extend(o,n),delete t[i.ref];else{if(null===o){delete t[i.ref];continue}a=function(){switch(!1){case!n:return i.extend(null,n);case!Object.keys(t).length:return i.extend();default:return i}}()}a.children=Ke(t,a.children),l.push(a)}return l}return e};var Je,Ve=Ue=function(){function t(e,n){if(C(this,t),tt.template(e))return e;e=n?Me(e):e,R(this,e)}return O(t,[{key:"extend",value:function(e,n){return new t(We(this,e,n))}},{key:"spawn",value:function(t,e,n){var i,r,s,o,a,l,u,h;if(t&&t.data&&(n=t.data,1===Object.keys(t).length&&(t=null)),t||e){var c=We(this,t,e);u=c.options,s=c.children,h=c.type}else u=this.options,s=this.children,h=this.type,u=R.clone(u);if(o=Y.create([h,u]),s)for(r=u.passDataToChildren?n||u.data:void 0,a=0,l=s.length;a<l;a++)i=s[a],o.append(i.spawn(null,null,r));return o._postCreation(n),o}}]),t}();null==Ue.name&&(Ue.name="QuickTemplate"),Object.defineProperty(Ue.prototype,"child",{get:function(){return this._childRefs||Mt(this)}}),Y.template=function(t){return new Ue(t,!0)},Y.isTemplate=function(t){return tt.template(t)};var Xe=Je=function(){function t(e,n){C(this,t),this.returnResults=n,this.elements=e.map(function(t){return Y(t)})}return O(t,[{key:"reverse",value:function(){return this.elements=this.elements.reverse(),this}},{key:"return",value:function(t){return t?(this.returnResults=!0,this):this.lastResults}}]),t}();null==Je.name&&(Je.name="QuickBatch"),Object.keys(Qe.prototype).concat("css","replaceWith","html","text").forEach(function(t){return Je.prototype[t]=function(e){var n,i;return i=this.lastResults=function(){var i,r,s,o;for(o=[],i=0,r=(s=this.elements).length;i<r;i++){var a;if(n=s[i],"html"===t||"text"===t)e?o.push(n[t]=e):o.push(n[t]);else o.push((a=n)[t].apply(a,arguments))}return o}.apply(this,arguments),this.returnResults?i:this}}),Y.batch=function(t,e){if(!tt.iterable(t))throw new Error("Batch: expected an iterable, got ".concat(String(t)));return new Je(t,e)};var Ze,Ge,Ye;for(Ge=0,Ye=(Ze=["link:a","anchor:a","a","text","div","span","h1","h2","h3","h4","h5","h6","header","footer","section","button","br","ul","ol","li","fieldset","input","textarea","select","option","form","frame","hr","iframe","img","picture","main","nav","meta","object","pre","style","table","tbody","th","tr","td","tfoot","video"]).length;Ge<Ye;Ge++)!function(t){var e,n,i;e=i=t,nt(t,":")&&(e=(n=t.split(":"))[0],i=n[1]),Y[e]=function(){return Y.apply(void 0,[i].concat(Array.prototype.slice.call(arguments)))}}(Ze[Ge]);Z=Qe,G=jt,Y.QuickElement=Qe,Y.QuickTemplate=Ve,Y.QuickWindow=jt,Y.QuickBatch=Xe,Y.version="1.0.92",Y.CSS=w;var tn=Y;return tn});